{"version":3,"sources":["../../src/FilterEnginePackages/FilterEnginePackages.js"],"names":["FilterEngine","props","filters","dataSource","onFiltred","onApply","classes","activeFilterMore","height","fts","map","ft","Object","assign","open","type","filterTitle","rangeTitleValues","min","max","rangeValue","rangeTextValues","value","active","items","setItems","filterGrid","item","values","options","forFilter","optionStart","newValues","filter","o","checked","length","forEach","option","dsOptions","operator","opts","el","field","code","opt","push","filterOptions","filterRange","range","cond","filterText","texts","toUpperCase","includes","onClientApply","index","filterSelected","obj","_filter","Filters","RANGE","_items","OPTIONS","GRID","TEXT","MORE","filterActives","f","isActive","isMobile","_item","defaultProps","propTypes","PropTypes","func","styles","withTheme"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Filters } from \"@cvccorp-components/core\";\nimport PropTypes from \"prop-types\";\nimport { get, filter } from \"lodash\";\nimport FilterRange from \"./_FilterRange\";\nimport FilterOption from \"./_FilterOption\";\nimport FilterGrid from \"./_FilterGrid\";\nimport FilterText from \"./_FilterText\";\nimport FilterMore from \"./_FilterMore\";\n\nimport { styles } from \"./styles\";\n\nconst FilterEngine = props => {\n    const {\n        filters,\n        dataSource,\n        onFiltred,\n        onApply,\n        classes,\n        activeFilterMore,\n        height,\n    } = props;\n\n    let fts = [...filters];\n\n    fts = fts.map(ft => {\n        Object.assign(ft, { open: false });\n        if (ft.type === \"range\") {\n            Object.assign(ft, { filterTitle: \"\" });\n            Object.assign(ft, { rangeTitleValues: { min: ft.min, max: ft.max } });\n            Object.assign(ft, { rangeValue: { min: ft.min, max: ft.max } });\n            Object.assign(ft, { rangeTextValues: { min: ft.min, max: ft.max } });\n        }\n        if (ft.type === \"filterMore\") {\n            Object.assign(ft, { value: [\"\"] });\n            Object.assign(ft, { active: false });\n        }\n        return ft;\n    });\n\n    const [items, setItems] = useState(fts);\n\n    // FILTER_GRID\n    const filterGrid = (item, values) => {\n        let options = item.forFilter ? item.forFilter : item.options;\n        let optionStart = false;\n        let newValues = [];\n\n        options = options.filter(o => {\n            return o.checked;\n        });\n\n        if (options.length === 0) return values;\n\n        options.forEach(option => {\n            let dsOptions = [];\n            if (item.operator === \"or\") dsOptions = values;\n            if (item.operator === \"and\")\n                dsOptions = !optionStart ? values : [newValues];\n\n            const opts = filter(dsOptions, el => {\n                if (typeof item.field === \"string\") {\n                    return get(el, item.field, {}) === option.code;\n                }\n\n                return item.field(el, option);\n            });\n\n            if (!optionStart) optionStart = true;\n            if (item.operator === \"or\") opts.forEach(opt => newValues.push(opt));\n            if (item.operator === \"and\") newValues = opts;\n        });\n        return newValues;\n    };\n\n    // FILTER_OPTIONS\n    const filterOptions = (item, values) => {\n        let options = item.forFilter ? item.forFilter : item.options;\n        let optionStart = false;\n        let newValues = [];\n\n        options = options.filter(o => {\n            return o.checked;\n        });\n\n        if (options.length === 0) return values;\n\n        options.forEach(option => {\n            let dsOptions = [];\n            if (item.operator === \"or\") dsOptions = values;\n            if (item.operator === \"and\")\n                dsOptions = !optionStart ? values : [newValues];\n\n            const opts = filter(dsOptions, el => {\n                if (typeof item.field === \"string\") {\n                    return get(el, item.field, {}) === option.value;\n                }\n\n                return item.field(el, option);\n            });\n\n            if (!optionStart) optionStart = true;\n            if (item.operator === \"or\") opts.forEach(opt => newValues.push(opt));\n            if (item.operator === \"and\") newValues = opts;\n        });\n        return newValues;\n    };\n\n    // FILTER_RANGE\n    const filterRange = (item, values) => {\n        const value = item.rangeValue\n            ? item.rangeValue\n            : { min: item.min, max: item.max };\n        const range = filter(values, el => {\n            const cond = get(el, item.field, {});\n            return cond >= value.min && cond <= value.max;\n        });\n        return range;\n    };\n\n    // FILTER_TEXT\n    const filterText = (item, values) => {\n        const value = item.forFilter ? item.forFilter : item.value;\n        if (!value) return values;\n\n        const texts = filter(values, el => {\n            const cond = get(el, item.field, {});\n            return cond.toUpperCase().includes(value.toUpperCase());\n        });\n        return texts;\n    };\n\n    // ON_APLLY\n    const onClientApply = (value, ft, index) => {\n        let values = [...dataSource];\n        const filterSelected = items[index];\n\n        if (ft.type === \"filterMore\" && value.length) {\n            value.forEach(obj => {\n                if (obj.type === \"range\") values = [...filterRange(obj, values)];\n                if (obj.type === \"options\") values = [...filterOptions(obj, values)];\n                if (obj.type === \"grid\") values = [...filterGrid(obj, values)];\n                if (obj.type === \"text\") values = [...filterText(obj, values)];\n            });\n        }\n\n        if (ft.type === \"range\")\n            filterSelected.forFilter = {\n                min: value.min,\n                max: value.max,\n            };\n\n        if (ft.type === \"options\" || ft.type === \"grid\" || ft.type === \"text\")\n            filterSelected.forFilter = value;\n\n        items.forEach(obj => {\n            if (obj.type === \"range\") values = [...filterRange(obj, values)];\n            if (obj.type === \"options\") values = [...filterOptions(obj, values)];\n            if (obj.type === \"grid\") values = [...filterGrid(obj, values)];\n            if (obj.type === \"text\") values = [...filterText(obj, values)];\n        });\n\n        if (onFiltred) onFiltred(values);\n    };\n\n    return items.map((item, index) => {\n        const { type } = item;\n        let _filter = null;\n\n        if (type === Filters.RANGE) {\n            _filter = (\n                <FilterRange\n                    onApply={_items => {\n                        const value = _items[index].rangeTextValues;\n                        if (dataSource) onClientApply(value, item, index);\n                        else onApply({ value, item: _items[index], index });\n                    }}\n                    index={index}\n                    filters={items}\n                    filter={item}\n                    className={classes.item}\n                    height={height}\n                />\n            );\n        }\n        if (type === Filters.OPTIONS) {\n            _filter = (\n                <FilterOption\n                    onApply={_items => {\n                        const value = _items[index].options;\n                        if (dataSource) onClientApply(value, item, index);\n                        else if (onApply) onApply({ value, item, index });\n                    }}\n                    index={index}\n                    filters={items}\n                    filter={item}\n                    className={classes.item}\n                    height={height}\n                />\n            );\n        }\n        if (type === Filters.GRID) {\n            _filter = (\n                <FilterGrid\n                    onApply={_items => {\n                        const value = _items[index].options;\n                        if (dataSource) onClientApply(value, item, index);\n                        else if (onApply) onApply({ value, item, index });\n                    }}\n                    index={index}\n                    filters={items}\n                    filter={item}\n                    filterObj={item}\n                    className={classes.item}\n                    height={height}\n                />\n            );\n        }\n        if (type === Filters.TEXT) {\n            _filter = (\n                <FilterText\n                    onApply={_items => {\n                        const { value } = _items[index];\n                        if (dataSource) onClientApply(value, item, index);\n                        else if (onApply) onApply({ value, item: _items[index], index });\n                    }}\n                    index={index}\n                    filters={items}\n                    filter={item}\n                    className={classes.item}\n                    height={height}\n                />\n            );\n        }\n        if (type === Filters.MORE) {\n            return (\n                <FilterMore\n                    onApply={values => {\n                        const filterActives = values.filter(f => f.isActive);\n                        const filterTitle =\n                            filterActives.length === 1\n                                ? [1]\n                                : filterActives.length === 0\n                                    ? \"\"\n                                    : filterActives;\n                        const value = filterTitle;\n                        const isActive =\n                            item.isMobile || filterTitle === \"\"\n                                ? false\n                                : filterActives.length > 0;\n\n                        const _item = { ...item, filterTitle, value, isActive, filters: [...values] };\n                        items[index] = _item;\n                        setItems([...items]);\n                        if (dataSource) onClientApply(values, item, index);\n                        else if (onApply) onApply({ value, item: _item, index });\n                    }}\n                    item={item}\n                    classes={classes}\n                    onActives={value => activeFilterMore(value)}\n                    height={height}\n                />\n            );\n        }\n\n        return _filter;\n    });\n};\n\nFilterEngine.defaultProps = {\n    activeFilterMore: () => { },\n};\n\nFilterEngine.propTypes = {\n    activeFilterMore: PropTypes.func,\n};\n\nexport default withStyles(styles, { withTheme: true })(FilterEngine);\n"],"file":"FilterEnginePackages.js"}