"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _typeof=require("@babel/runtime/helpers/typeof");Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _propTypes=_interopRequireDefault(require("prop-types"));var _Grid=_interopRequireDefault(require("@material-ui/core/Grid"));var _withStyles=_interopRequireDefault(require("@material-ui/core/styles/withStyles"));var _WithTax=_interopRequireDefault(require("@cvccorp-components/icons/dist/WithTax"));var _Typography=_interopRequireDefault(require("../Typography"));var _TextField=_interopRequireDefault(require("../TextField"));var _Button=_interopRequireDefault(require("../Button"));var _Box=_interopRequireDefault(require("../Box"));var _styles=require("./styles");function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})}keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}var Newsletter=function Newsletter(_ref){var classes=_ref.classes,onClick=_ref.onClick,isMobile=_ref.isMobile,title=_ref.title,description=_ref.description,message=_ref.message;var _useState=(0,_react.useState)({error:false,errorMsg:"",value:""}),_useState2=(0,_slicedToArray2["default"])(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=(0,_react.useState)({error:false,errorMsg:"",value:""}),_useState4=(0,_slicedToArray2["default"])(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=(0,_slicedToArray2["default"])(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];var handleChangeEmail=function handleChangeEmail(e){setEmail({value:e.target.value,errorMsg:"",error:false})};var handleChangeName=function handleChangeName(e){setName({value:e.target.value,errorMsg:"",error:false})};var isValid=function isValid(){var valid=true;if(!/^[a-zA-Z0-9._+%-]+@[a-zA-Z0-9]+\.[A-Za-z.]+$/.test(email.value)){setEmail(_objectSpread(_objectSpread({},email),{},{errorMsg:"E-mail inv\xE1lido",error:true}));valid=false}if(name.value===""){setName(_objectSpread(_objectSpread({},name),{},{errorMsg:"Nome inv\xE1lido",error:true}));valid=false}return valid};var handleOnClick=function handleOnClick(){if(isValid()){if(onClick){setSuccess(true);onClick({name:name,email:email})}}};return/*#__PURE__*/_react["default"].createElement(_Box["default"],{className:"".concat(classes.root," ").concat(success&&classes.successBox)},success?/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_WithTax["default"],{className:classes.icon,size:"large"}),/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:isMobile?"headline6":"headline2"},"Obrigado pela sua ",/*#__PURE__*/_react["default"].createElement("span",{className:classes.title}," assinatura! ")," "),/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:isMobile?"body2regular":"body1regular"},message)):/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_Grid["default"],{container:true,spacing:isMobile?1:2,className:classes.grid},/*#__PURE__*/_react["default"].createElement(_Grid["default"],{item:true,xs:12,className:classes.gridTitle},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:isMobile?"headline6":"headline2"},title)),/*#__PURE__*/_react["default"].createElement(_Grid["default"],{container:true,spacing:1,alignItems:"center",className:classes.gridData},/*#__PURE__*/_react["default"].createElement(_Grid["default"],{item:true,xs:12,lg:3},/*#__PURE__*/_react["default"].createElement(_TextField["default"],{onChange:handleChangeName,label:"Digite seu nome",size:"large",error:name.error,errorMsg:name.errorMsg})),/*#__PURE__*/_react["default"].createElement(_Grid["default"],{item:true,xs:12,lg:6},/*#__PURE__*/_react["default"].createElement(_TextField["default"],{onChange:handleChangeEmail,label:"Digite seu email",size:"large",error:email.error,errorMsg:email.errorMsg})),/*#__PURE__*/_react["default"].createElement(_Grid["default"],{item:true,xs:12,lg:3},/*#__PURE__*/_react["default"].createElement(_Button["default"],{color:"primary",label:"Assinar",size:"large",variant:"contained",onClick:handleOnClick,fullWidth:true})))),/*#__PURE__*/_react["default"].createElement(_Grid["default"],{container:true,spacing:1,alignItems:"center",className:classes.gridInfo},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:isMobile?"captionregular":"body2regular",className:classes.text},description)))," ")};Newsletter.defaultProps={classes:undefined,onClick:undefined,isMobile:false};Newsletter.propTypes={onClick:_propTypes["default"].func,isMobile:_propTypes["default"].bool,classes:_propTypes["default"].oneOfType([_propTypes["default"].object,_propTypes["default"].string]),title:_propTypes["default"].oneOfType([_propTypes["default"].object.isRequired,_propTypes["default"].string.isRequired]),description:_propTypes["default"].oneOfType([_propTypes["default"].object.isRequired,_propTypes["default"].string.isRequired]),message:_propTypes["default"].oneOfType([_propTypes["default"].object.isRequired,_propTypes["default"].string.isRequired])};var _default=(0,_withStyles["default"])(_styles.styles,{withTheme:true})(Newsletter);exports["default"]=_default;
//# sourceMappingURL=Newsletter.js.map