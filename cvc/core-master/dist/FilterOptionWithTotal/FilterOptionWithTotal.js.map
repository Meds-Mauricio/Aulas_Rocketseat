{"version":3,"sources":["../../src/FilterOptionWithTotal/FilterOptionWithTotal.tsx"],"names":["FilterOptionWithTotal","filter","items","sufix","onChange","isMobile","className","noModal","label","open","onOpen","onClose","onApply","onReset","onActive","height","classes","getSelectedValues","el","checked","map","value","toString","change","option","index","isChecked","Object","assign","length","isActive","disabled","cleanFilterOnClose","applied","newItems","key","optionsCheckboxes","total","undefined","defaultProps","propTypes","PropTypes","bool","oneOfType","object","string","arrayOf","isRequired","func"],"mappings":"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","sourcesContent":["/* eslint-disable react/jsx-filename-extension */\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Checkbox from \"../Checkbox\";\nimport Filter from \"../Filter\";\nimport { useStyles } from \"./styles\";\n\nconst FilterOptionWithTotal = ({\n    filter,\n    items,\n    sufix,\n    onChange,\n    isMobile,\n    className,\n    noModal,\n    label,\n    open,\n    onOpen,\n    onClose,\n    onApply,\n    onReset,\n    onActive,\n    height,\n}) => {\n    const classes = useStyles({});\n    function getSelectedValues() {\n        return items.filter(el => el.checked).map(el => {\n            if (el.label != null && typeof el.label === \"object\")\n                return el.value.toString();\n            return el.label.toString();\n        });\n    }\n\n    const change = (option, index, isChecked) => {\n        Object.assign(option, { checked: isChecked });\n        Object.assign(items[index], { checked: isChecked });\n        if (onChange) onChange(option, items);\n        if (onActive) onActive(getSelectedValues().length > 0);\n    };\n\n    const isActive = () => !!getSelectedValues().length && !noModal;\n\n    const disabled = getSelectedValues().length <= 0;\n\n    const cleanFilterOnClose = () => {\n        if (!filter.applied) {\n            const newItems = items\n                .filter(el => el.checked)\n                .map(el => {\n                    el.checked = false;\n                    return el;\n                });\n            if (onChange) onChange(items, newItems);\n            if (onActive) onActive(false);\n        }\n    };\n\n    return (\n        <Filter\n            sufix={sufix}\n            type=\"list\"\n            isMobile={isMobile}\n            className={className}\n            noModal={noModal}\n            label={label}\n            height={height}\n            items={items.map((option, index) => {\n                return (\n                    <div key={option.key} className={classes.optionsCheckboxes}>\n                        <Checkbox\n                            key={option}\n                            disabled={option.disabled}\n                            checked={option.checked}\n                            onChange={isChecked => change(option, index, isChecked)}\n                            label={option.label} />\n                        <span>{option.total}</span>\n                    </div>\n                );\n            })}\n            onOpen={() => onOpen()}\n            isOpen={open}\n            onApply={() => onApply()}\n            onReset={() => onReset()}\n            onClose={() => { cleanFilterOnClose(); onClose(); } }\n            isActive={isActive() && !open}\n            value={getSelectedValues().length ? getSelectedValues() : [\"\"]}\n            disabled={disabled} header={undefined} more={undefined} qtdFilters={undefined}        />\n    );\n};\n\nFilterOptionWithTotal.defaultProps = {\n    open: false,\n    className: undefined,\n    isMobile: false,\n    sufix: \"\",\n    items: [],\n    noModal: false,\n    onOpen: () => { },\n    onApply: () => { },\n    onReset: () => { },\n    onChange: () => { },\n};\n\nFilterOptionWithTotal.propTypes = {\n    open: PropTypes.bool,\n    className: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n    items: PropTypes.arrayOf(PropTypes.object),\n    isMobile: PropTypes.bool,\n    sufix: PropTypes.string,\n    noModal: PropTypes.bool,\n    label: PropTypes.string.isRequired,\n    onOpen: PropTypes.func,\n    onApply: PropTypes.func,\n    onReset: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default (FilterOptionWithTotal);\n"],"file":"FilterOptionWithTotal.js"}