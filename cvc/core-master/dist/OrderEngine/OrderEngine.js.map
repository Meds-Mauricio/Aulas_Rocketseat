{"version":3,"sources":["../../src/OrderEngine/OrderEngine.js"],"names":["OrderEngine","orders","dataSource","onOrdered","className","itemSelected","setItemSelected","menu","setMenu","menuItems","forEach","order","selected","push","value","filtred","sel","inOrder","_","orderBy","field","operation","handleSelect","v","find","el","defaultProps","propTypes","PropTypes","array","func","string"],"mappings":"oUAAA,qDACA,sDACA,6DACA,6D,o/BAEA,GAAMA,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAkD,IAA/CC,CAAAA,MAA+C,MAA/CA,MAA+C,CAAvCC,UAAuC,MAAvCA,UAAuC,CAA3BC,SAA2B,MAA3BA,SAA2B,CAAhBC,SAAgB,MAAhBA,SAAgB,CAClE,cAAwC,qBAAxC,wDAAOC,YAAP,eAAqBC,eAArB,eACA,eAAwB,oBAAS,EAAT,CAAxB,yDAAOC,IAAP,eAAaC,OAAb,eAEA,qBAAU,UAAM,CACZ,GAAMC,CAAAA,SAAS,CAAG,EAAlB,CACAR,MAAM,CAACS,OAAP,CAAe,SAAAC,KAAK,CAAI,CACpB,GAAIA,KAAK,CAACC,QAAV,CAAoBN,eAAe,CAACK,KAAD,CAAf,CACpBF,SAAS,CAACI,IAAV,CAAeF,KAAK,CAACG,KAArB,CACH,CAHD,EAIAN,OAAO,CAACC,SAAD,CACV,CAPD,CAOG,EAPH,EASA,GAAMM,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAC,GAAG,CAAI,CACnB,GAAMC,CAAAA,OAAO,CAAGC,mBAAEC,OAAF,CAAUjB,UAAV,CAAsBc,GAAG,CAACI,KAA1B,CAAiCJ,GAAG,CAACK,SAArC,CAAhB,CACAlB,SAAS,CAACc,OAAD,CAAUD,GAAV,CACZ,CAHD,CAKA,GAAMM,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,CAAC,CAAI,CACtB,GAAMP,CAAAA,GAAG,CAAGf,MAAM,CAACuB,IAAP,CAAY,SAAAC,EAAE,QAAIA,CAAAA,EAAE,CAACX,KAAH,GAAaS,CAAjB,CAAd,CAAZ,CACA,GAAIrB,UAAJ,CAAgBa,OAAO,CAACC,GAAD,CAAP,CAAhB,IACKb,CAAAA,SAAS,CAACa,GAAD,CACjB,CAJD,CAMA,mBACI,gCAAC,oBAAD,EACI,OAAO,CAAE,iBAAAA,GAAG,QAAIM,CAAAA,YAAY,CAACN,GAAD,CAAhB,CADhB,CAEI,QAAQ,CAAEX,YAAY,EAAIA,YAAY,CAACO,QAA7B,CAAwCP,YAAY,CAACS,KAArD,CAA6D,EAF3E,CAGI,IAAI,CAAEP,IAHV,CAII,SAAS,CAAEH,SAJf,EAOP,CAhCD,CAkCAJ,WAAW,CAAC0B,YAAZ,CAA2B,EAA3B,CACA1B,WAAW,CAAC2B,SAAZ,CAAwB,CACpB1B,MAAM,CAAE2B,sBAAUC,KADE,CAEpB1B,SAAS,CAAEyB,sBAAUE,IAFD,CAGpB1B,SAAS,CAAEwB,sBAAUG,MAHD,CAAxB,C,aAMe/B,W","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport _ from \"lodash\";\nimport PropTypes from \"prop-types\";\nimport DropDown from \"../DropDown\";\n\nconst OrderEngine = ({ orders, dataSource, onOrdered, className }) => {\n    const [itemSelected, setItemSelected] = useState();\n    const [menu, setMenu] = useState([]);\n\n    useEffect(() => {\n        const menuItems = [];\n        orders.forEach(order => {\n            if (order.selected) setItemSelected(order);\n            menuItems.push(order.value);\n        });\n        setMenu(menuItems);\n    }, []);\n\n    const filtred = sel => {\n        const inOrder = _.orderBy(dataSource, sel.field, sel.operation);\n        onOrdered(inOrder, sel);\n    };\n\n    const handleSelect = v => {\n        const sel = orders.find(el => el.value === v);\n        if (dataSource) filtred(sel);\n        else onOrdered(sel);\n    };\n\n    return (\n        <DropDown\n            onClick={sel => handleSelect(sel)}\n            selected={itemSelected && itemSelected.selected ? itemSelected.value : \"\"}\n            menu={menu}\n            className={className}\n        />\n    );\n};\n\nOrderEngine.defaultProps = {};\nOrderEngine.propTypes = {\n    orders: PropTypes.array,\n    onOrdered: PropTypes.func,\n    className: PropTypes.string,\n};\n\nexport default OrderEngine;\n"],"file":"OrderEngine.js"}