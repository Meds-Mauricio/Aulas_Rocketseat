{"version":3,"sources":["../../src/HtmlHeadAdds/index.js"],"names":["HtmlHeadAdds","NextJSHeadInstance","children","isBrowser","window","Internal","theme","ctx","BrandContext","icon","favicon","big","gtm","omnilogicScript","themeColor","brand","Brand","CVC","palette","primary","main","__html","Date","getDate"],"mappings":"2JAAA,qDACA,gDACA,0D,o/BAEe,QAASA,CAAAA,YAAT,MAAwD,IAAhCC,CAAAA,kBAAgC,MAAhCA,kBAAgC,CAAZC,QAAY,MAAZA,QAAY,CACnE,mBAAO,gCAAC,QAAD,EAAU,kBAAkB,CAAED,kBAA9B,EAAmDC,QAAnD,CACV,CAED;AACA;AACA,GAAMC,CAAAA,SAAS,CAAG,MAAOC,CAAAA,MAAP,GAAkB,WAApC,CACA,GAAMC,CAAAA,QAAQ,CAAG,sBAAU,eAAmD,IAAvCJ,CAAAA,kBAAuC,OAAvCA,kBAAuC,CAAnBK,KAAmB,OAAnBA,KAAmB,CAAZJ,QAAY,OAAZA,QAAY,CAC1E,GAAMK,CAAAA,GAAG,CAAG,sBAAWC,0BAAX,CAAZ,CACA,GAAMC,CAAAA,IAAI,CAAGF,GAAG,CAACG,OAAJ,CAAYC,GAAzB,CACA,GAAQC,CAAAA,GAAR,CAAiCL,GAAjC,CAAQK,GAAR,CAAaC,eAAb,CAAiCN,GAAjC,CAAaM,eAAb,CACA,GAAMC,CAAAA,UAAU,CAAGP,GAAG,CAACQ,KAAJ,GAAcC,oBAAMC,GAApB,CAA0B,SAA1B,CAAsCX,KAAK,CAACY,OAAN,CAAcC,OAAd,CAAsBC,IAA/E,CAEA,mBACI,gCAAC,kBAAD,MACKjB,SAAS,eAAI,0CAAQ,KAAK,KAAb,CAAc,GAAG,CAAC,iDAAlB,EADlB,CAEKA,SAAS,eAAI,0CAAQ,KAAK,KAAb,CAAc,KAAK,KAAnB,CAAoB,uBAAuB,CAAE,CAAEkB,MAAM,CAAE,mDAAV,CAA7C,EAFlB,CAGKlB,SAAS,eAAI,0CAAQ,KAAK,KAAb,CAAc,KAAK,KAAnB,CAAoB,uBAAuB,CAAE,CAAEkB,MAAM,CAAE,4CAAV,CAA7C,EAHlB,CAIKlB,SAAS,eAAI,0CAAQ,KAAK,KAAb,CAAc,KAAK,KAAnB,CAAoB,uBAAuB,CAAE,CACvDkB,MAAM,kdAIiDT,GAJjD,OADiD,CAA7C,EAJlB,CAWKT,SAAS,eAAI,0CAAQ,KAAK,KAAb,CAAc,KAAK,KAAnB,CAAoB,GAAG,wCAAkCU,eAAlC,OAAvB,EAXlB,CAYKV,SAAS,eAAI,0CAAQ,KAAK,KAAb,CAAc,KAAK,KAAnB,CAAoB,GAAG,6DAAuD,GAAImB,CAAAA,IAAJ,GAAWC,OAAX,EAAvD,CAAvB,EAZlB,cAcI,wCAAM,IAAI,CAAC,UAAX,CAAsB,OAAO,CAAC,mBAA9B,EAdJ,cAeI,wCAAM,IAAI,CAAC,aAAX,CAAyB,OAAO,CAAET,UAAlC,EAfJ,cAgBI,wCAAM,GAAG,CAAC,MAAV,CAAiB,IAAI,CAAEL,IAAvB,EAhBJ,CAiBKP,QAjBL,CAoBP,CA3BgB,CAAjB","sourcesContent":["import React, { useContext } from \"react\";\nimport { withTheme } from \"@material-ui/core/styles\";\nimport { Brand, BrandContext } from \"../BrandContext/BrandContext\";\n\nexport default function HtmlHeadAdds({ NextJSHeadInstance, children }) {\n    return <Internal NextJSHeadInstance={NextJSHeadInstance}>{children}</Internal>;\n}\n\n//O Nextjs tem um bug em que scripts com async ou defer são executados duas vezes (uma no server, outra no client)\n//Enquanto não há solução para isso, vamos carregar os scripts apenas no client.\nconst isBrowser = typeof window !== \"undefined\";\nconst Internal = withTheme(function ({ NextJSHeadInstance, theme, children }) {\n    const ctx = useContext(BrandContext);\n    const icon = ctx.favicon.big;\n    const { gtm, omnilogicScript } = ctx;\n    const themeColor = ctx.brand === Brand.CVC ? \"#06313B\" : theme.palette.primary.main;\n\n    return (\n        <NextJSHeadInstance>\n            {isBrowser && <script async src=\"https://www.googletagservices.com/tag/js/gpt.js\"></script>}\n            {isBrowser && <script async defer dangerouslySetInnerHTML={{ __html: \"window.googletag = window.googletag || {cmd: []};\" }} />}\n            {isBrowser && <script async defer dangerouslySetInnerHTML={{ __html: \"window.dataLayer = window.dataLayer || [];\" }} />}\n            {isBrowser && <script async defer dangerouslySetInnerHTML={{\n                __html: `(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n                                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n                                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n                                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n                            })(window,document,'script','dataLayer','${gtm}');`\n            }} />}\n            {isBrowser && <script async defer src={`https://www.oppuz.com/script/${omnilogicScript}.js`} />}\n            {isBrowser && <script async defer src={`/platform/assets/fingerprint/fingerprint.min.js?q=${new Date().getDate()}`} />}\n\n            <meta name=\"viewport\" content=\"initial-scale=1.0\" />\n            <meta name=\"theme-color\" content={themeColor} />\n            <link rel=\"icon\" href={icon} />\n            {children}\n        </NextJSHeadInstance>\n    );\n});\n"],"file":"index.js"}