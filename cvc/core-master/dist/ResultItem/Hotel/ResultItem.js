"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));var _react=_interopRequireDefault(require("react"));var _propTypes=_interopRequireDefault(require("prop-types"));var _clsx=_interopRequireDefault(require("clsx"));var _withStyles=_interopRequireDefault(require("@material-ui/core/styles/withStyles"));var _Grid=_interopRequireDefault(require("@material-ui/core/Grid"));var _reactLazyload=_interopRequireDefault(require("react-lazyload"));var _reactSlick=_interopRequireDefault(require("react-slick"));var _Meal=_interopRequireDefault(require("@cvccorp-components/icons/dist/Meal"));var _Favorite=_interopRequireDefault(require("@cvccorp-components/icons/dist/Favorite"));var _Air=_interopRequireDefault(require("@cvccorp-components/icons/dist/Air"));var _Luggage=_interopRequireDefault(require("@cvccorp-components/icons/dist/Luggage"));var _DropLeft=_interopRequireDefault(require("@cvccorp-components/icons/dist/DropLeft"));var _DropRight=_interopRequireDefault(require("@cvccorp-components/icons/dist/DropRight"));var _Tag=_interopRequireDefault(require("../../Tag"));var _LoadingContent=_interopRequireDefault(require("../../LoadingContent"));var _Typography=_interopRequireDefault(require("../../Typography"));var _Box=_interopRequireDefault(require("../../Box"));var _Stars=_interopRequireDefault(require("../../Stars"));var _Price=_interopRequireDefault(require("../../Price"));var _TripAdvisor=_interopRequireDefault(require("../../TripAdvisor"));var _Amenities=_interopRequireDefault(require("../../Amenities"));var _styles=require("./styles");var _Image=_interopRequireDefault(require("../../Image/Image"));/* eslint-disable @typescript-eslint/no-var-requires */ /* eslint-disable @typescript-eslint/no-unused-vars */ /* eslint-disable @typescript-eslint/no-empty-function */var uuidv4=require("uuid/v4");var fallbackImgUrl="https://res.cloudinary.com/cvc-corp/image/upload/v1613574585/img-not-found/img-not-found-results.png";var ResultItemHotel=function ResultItemHotel(_ref){var classes=_ref.classes,className=_ref.className,product=_ref.product,onClick=_ref.onClick,isLoading=_ref.isLoading,type=_ref.type,imgs=_ref.imgs,notAvaliable=_ref.notAvaliable,meal=_ref.meal,onFav=_ref.onFav,title=_ref.title,stars=_ref.stars,subtitle=_ref.subtitle,rate=_ref.rate,totalAvaliations=_ref.totalAvaliations,discount=_ref.discount,amenities=_ref.amenities,stops=_ref.stops,departure=_ref.departure,arrival=_ref.arrival,hasLuggage=_ref.hasLuggage,totalPrice=_ref.totalPrice,partialPrice=_ref.partialPrice,oldPartialPrice=_ref.oldPartialPrice,totalPeople=_ref.totalPeople,totalDays=_ref.totalDays,taxesIncluded=_ref.taxesIncluded,parcel=_ref.parcel,isFavorite=_ref.isFavorite,isActive=_ref.isActive,id=_ref.id,lastItem=_ref.lastItem,hotelCoordinates=_ref.hotelCoordinates,isAvuxi=_ref.isAvuxi,toggleSeeModal=_ref.toggleSeeModal;var NextArrow=function NextArrow(props){var handleClick=function handleClick(e){if(props.onClick)props.onClick(e);e.stopPropagation()};return/*#__PURE__*/_react["default"].createElement("button",{type:"button",className:(0,_clsx["default"])(classes.arrows,classes.arrowRight),onClick:function onClick(e){return handleClick(e)}},/*#__PURE__*/_react["default"].createElement(_DropRight["default"],{size:"medium"}))};var PrevArrow=function PrevArrow(props){var handleClick=function handleClick(e){if(props.onClick)props.onClick(e);e.stopPropagation()};return/*#__PURE__*/_react["default"].createElement("button",{type:"button",className:(0,_clsx["default"])(classes.arrows,classes.arrowLeft),onClick:function onClick(e){return handleClick(e)}},/*#__PURE__*/_react["default"].createElement(_DropLeft["default"],{size:"medium"}))};var classNameBox=function classNameBox(){if(type==="list"){if(isLoading){return(0,_clsx["default"])(classes.root,classes.rootList,classes.rootLoading,className)}return(0,_clsx["default"])(classes.root,classes.rootList,className,isActive&&classes.isActive)}return(0,_clsx["default"])(classes.root,classes[product],className)};return/*#__PURE__*/_react["default"].createElement(_Box["default"],{className:classNameBox(),onClick:onClick,id:id},!isLoading&&/*#__PURE__*/_react["default"].createElement("div",{className:type==="list"?classes.typeList:""},imgs&&/*#__PURE__*/_react["default"].createElement("div",{className:type==="card"?classes.imgContainerCard:classes.imgContainerList},imgs.length>1&&/*#__PURE__*/_react["default"].createElement("span",{className:(0,_clsx["default"])(classes.overlay,"overlay")}),/*#__PURE__*/_react["default"].createElement(_reactSlick["default"],{infinite:false,speed:500,slidesToShow:1,touchThreshold:100,dots:true,nextArrow:/*#__PURE__*/_react["default"].createElement(NextArrow,null),prevArrow:/*#__PURE__*/_react["default"].createElement(PrevArrow,null)},imgs.map(function(item,i){var fallbackImgs=(0,_toConsumableArray2["default"])(imgs);fallbackImgs.splice(i,1);return/*#__PURE__*/_react["default"].createElement("span",{className:type==="list"?(0,_clsx["default"])(classes.imgWrapper,classes.imgWrapperList):classes.imgWrapper,key:i},/*#__PURE__*/_react["default"].createElement(_reactLazyload["default"],{height:229,placeholder:/*#__PURE__*/_react["default"].createElement(_LoadingContent["default"],null)},/*#__PURE__*/_react["default"].createElement(_Image["default"],{className:notAvaliable?(0,_clsx["default"])(classes.notAvaliableImg,classes.img):classes.img,src:item,alt:item.title,width:360,height:360,fallback:[].concat((0,_toConsumableArray2["default"])(fallbackImgs),[fallbackImgUrl])})))}))),meal&&!notAvaliable&&/*#__PURE__*/_react["default"].createElement(_Tag["default"],{className:imgs?classes.topTag:"",label:meal,icon:/*#__PURE__*/_react["default"].createElement(_Meal["default"],{size:"medium",className:classes.mealIcon}),color:"white"}),notAvaliable&&/*#__PURE__*/_react["default"].createElement(_Tag["default"],{className:imgs?classes.topTag:"",label:"Hotel indispon\xEDvel para estas datas",color:"white"}),onFav&&/*#__PURE__*/_react["default"].createElement("span",{className:type==="list"?(0,_clsx["default"])(classes.favorite,classes.favoriteList):classes.favorite},/*#__PURE__*/_react["default"].createElement(_Favorite["default"],{fill:isFavorite,size:"medium",onClick:onFav})),/*#__PURE__*/_react["default"].createElement("div",{className:type==="list"?classes.content:""},/*#__PURE__*/_react["default"].createElement("div",{className:classes.header},/*#__PURE__*/_react["default"].createElement("div",{className:classes.headerTitle},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{className:(0,_clsx["default"])(classes.title,"title"),type:"headline6"},title),lastItem&&/*#__PURE__*/_react["default"].createElement(_Tag["default"],{className:"".concat(classes.lastItem," ").concat(type==="card"&&classes.discountCard),label:lastItem,color:"orange"})),/*#__PURE__*/_react["default"].createElement(_Typography["default"],{className:classes.subtitle,type:"body2regular"},stars>1&&stars<=5&&/*#__PURE__*/_react["default"].createElement(_Stars["default"],{stars:stars,size:"smaller",className:(0,_clsx["default"])("hotel-stars",classes.stars)}),subtitle),isAvuxi&&/*#__PURE__*/_react["default"].createElement(_Typography["default"],{className:classes.verMapa,type:"subtitle",onClick:function onClick(ev){toggleSeeModal(hotelCoordinates);ev.stopPropagation()}},"Veja no mapa")),/*#__PURE__*/_react["default"].createElement("div",{className:classes.info},rate&&/*#__PURE__*/_react["default"].createElement(_TripAdvisor["default"],{className:type==="list"?classes.tripAdvisorList:classes.tripAdvisor,totalAvaliations:totalAvaliations,rate:rate}),discount&&/*#__PURE__*/_react["default"].createElement(_Tag["default"],{className:type==="list"?classes.discountList:classes.discountCard,label:discount,color:product})),/*#__PURE__*/_react["default"].createElement(_Grid["default"],{container:true,alignItems:"center"},/*#__PURE__*/_react["default"].createElement(_Grid["default"],{item:true,xs:7},amenities&&product==="hotel"&&/*#__PURE__*/_react["default"].createElement(_Amenities["default"],{amenities:amenities,amenitiesToShow:4,showTooltip:true}),product==="package"&&/*#__PURE__*/_react["default"].createElement("div",{className:classes.flight},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"captionregular"},"Voo ",stops?"com paradas":"direto"," incluso"),/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body1semibold",className:classes.flightInfo},departure,/*#__PURE__*/_react["default"].createElement(_Air["default"],null),arrival,/*#__PURE__*/_react["default"].createElement("span",{className:classes.luggage},/*#__PURE__*/_react["default"].createElement(_Luggage["default"],{carryOn:!hasLuggage}))))),!notAvaliable&&/*#__PURE__*/_react["default"].createElement(_Grid["default"],{item:true,xs:5},/*#__PURE__*/_react["default"].createElement(_Price["default"],{className:classes.priceContainer,product:product,totalPrice:totalPrice,partialPrice:partialPrice,oldPartialPrice:oldPartialPrice,totalPeople:totalPeople,totalDays:totalDays}))),(taxesIncluded||parcel)&&/*#__PURE__*/_react["default"].createElement("div",{className:classes.footer},taxesIncluded&&/*#__PURE__*/_react["default"].createElement(_Typography["default"],{className:classes.footerItem,type:"captionregular"},"Taxas inclusas"),parcel&&/*#__PURE__*/_react["default"].createElement(_Typography["default"],{className:classes.footerItem,type:"captionsemibold"},"Em at\xE9 ",parcel,"x")))),isLoading&&/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_Grid["default"],{container:true,spacing:2,className:type==="list"&&classes.loading},/*#__PURE__*/_react["default"].createElement(_Grid["default"],{item:true,xs:type==="list"?6:12,className:classes.relative},/*#__PURE__*/_react["default"].createElement("div",{className:type==="card"?classes.imgContainerCard:""},/*#__PURE__*/_react["default"].createElement("div",{className:classes.imgContainerPromoSmall},/*#__PURE__*/_react["default"].createElement(_LoadingContent["default"],{absolute:true})))),/*#__PURE__*/_react["default"].createElement(_Grid["default"],{item:true,xs:type==="list"?6:12},/*#__PURE__*/_react["default"].createElement(_Grid["default"],{container:true},/*#__PURE__*/_react["default"].createElement(_Grid["default"],{item:true,xs:10},/*#__PURE__*/_react["default"].createElement(_LoadingContent["default"],null))),/*#__PURE__*/_react["default"].createElement(_Grid["default"],{container:true,className:classes.loadingContent},/*#__PURE__*/_react["default"].createElement(_Grid["default"],{item:true,xs:5},/*#__PURE__*/_react["default"].createElement(_LoadingContent["default"],null))),/*#__PURE__*/_react["default"].createElement(_Grid["default"],{container:true,className:classes.loadingContent},/*#__PURE__*/_react["default"].createElement(_Grid["default"],{item:true,xs:9},/*#__PURE__*/_react["default"].createElement(_LoadingContent["default"],null))),/*#__PURE__*/_react["default"].createElement(_Grid["default"],{container:true,className:classes.loadingPrice},/*#__PURE__*/_react["default"].createElement(_Grid["default"],{item:true,xs:3},/*#__PURE__*/_react["default"].createElement(_LoadingContent["default"],null)))))))};ResultItemHotel.defaultProps={product:"hotel",type:"list",imgs:[],isLoading:false,notAvaliable:false,isFavorite:false,taxesIncluded:false,onFav:undefined,onClick:function onClick(){}};ResultItemHotel.prototype={product:_propTypes["default"].string,type:_propTypes["default"].string,imgs:_propTypes["default"].array,isLoading:_propTypes["default"].bool,onClick:_propTypes["default"].func,title:_propTypes["default"].string,subtitle:_propTypes["default"].string,meal:_propTypes["default"].string,notAvaliable:_propTypes["default"].bool,isFavorite:_propTypes["default"].bool,rate:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),onFav:_propTypes["default"].func,stars:_propTypes["default"].number,totalDays:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),partialPrice:_propTypes["default"].string,totalPrice:_propTypes["default"].string,amenities:_propTypes["default"].array,taxesIncluded:_propTypes["default"].bool,parcel:_propTypes["default"].string,totalAvaliations:_propTypes["default"].string,discount:_propTypes["default"].string,departure:_propTypes["default"].string,arrival:_propTypes["default"].string,hasLuggage:_propTypes["default"].bool,stops:_propTypes["default"].bool,lastItem:_propTypes["default"].string};var _default=(0,_withStyles["default"])(_styles.styles,{withTheme:true})(ResultItemHotel);exports["default"]=_default;
//# sourceMappingURL=ResultItem.js.map