"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _typeof=require("@babel/runtime/helpers/typeof");Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _core=require("@material-ui/core");var _classnames2=_interopRequireDefault(require("classnames"));var _=_interopRequireDefault(require("../../.."));var _ProfileContext=require("../../../../ProfileContext");var _UserContext=require("../../../../UserContext");var _useGa2=_interopRequireDefault(require("../../../../utils/useGa"));var _styles=_interopRequireDefault(require("./styles"));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}/* eslint-disable @typescript-eslint/ban-ts-comment */var ModalLogin=function ModalLogin(_ref){var newLogin=_ref.newLogin,textBtnLogin=_ref.textBtnLogin,isMobile=_ref.isMobile;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),open=_useState2[0],setOpen=_useState2[1];var props={isMobile:isMobile};var _useGa=(0,_useGa2["default"])(),saveOnGa=_useGa.saveOnGa;var classes=(0,_styles["default"])(props);var _useProfileContext=(0,_ProfileContext.useProfileContext)(),isRegisterUserProfileStep=_useProfileContext.isRegisterUserProfileStep,setIsRegisterUserProfileStepToggle=_useProfileContext.setIsRegisterUserProfileStepToggle;var _useUserDataContext=(0,_UserContext.useUserDataContext)(),logout=_useUserDataContext.logout;var closeModal=(0,_react.useCallback)(/*#__PURE__*/function(){var _ref2=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(event,reason){var _window;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:saveOnGa({event:"header_event",category:"Account",action:"Click on header options",label:"click on header item :: login"});if(open&&(_window=window)!==null&&_window!==void 0&&_window.hj){window.hj("event","viewed_homepage_modal_login")}if(!(reason==="backdropClick")){_context.next=10;break}if(!isRegisterUserProfileStep){_context.next=8;break}_context.next=6;return logout({noReload:true});case 6:setIsRegisterUserProfileStepToggle(false);setOpen(!open);case 8:_context.next=11;break;case 10:setOpen(!open);case 11:case"end":return _context.stop();}}},_callee)}));return function(_x,_x2){return _ref2.apply(this,arguments)}}(),[open,isRegisterUserProfileStep]);var openModal=(0,_react.useCallback)(function(){setOpen(true)},[]);return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement("div",{className:"".concat(classes.login)},/*#__PURE__*/_react["default"].createElement("a",{onClick:openModal,className:(0,_classnames2["default"])(classes.loginBtn,(0,_defineProperty2["default"])({},classes.newLoginBtn,newLogin))},/*#__PURE__*/_react["default"].createElement(_core.Typography,{className:classes.loginBtnTxt},textBtnLogin))),/*#__PURE__*/_react["default"].createElement(_core.Modal,{open:open,onClose:closeModal,"aria-describedby":"modal-login"},/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_["default"],{onCloseClick:function onCloseClick(){return setOpen(!open)},isModal:true}))))};var _default=ModalLogin;exports["default"]=_default;
//# sourceMappingURL=index.js.map