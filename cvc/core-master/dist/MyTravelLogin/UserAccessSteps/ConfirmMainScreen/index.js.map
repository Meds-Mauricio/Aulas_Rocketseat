{"version":3,"sources":["../../../../src/MyTravelLogin/UserAccessSteps/ConfirmMainScreen/index.tsx"],"names":["ConfirmMainScreen","intl","onCloseClick","isModal","classes","saveOnGa","renderNewStep","setPreviousStep","previousStep","user","setUser","ctx","BrandContext","handleCreateAccount","Promise","resolve","event","category","action","label","handleMainScreen","email","root","title","id","subTitle","value","brand","name","changeEmail","subTitleLinkChangeEmail","buttonContainer","formatMessage"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport Link from \"@material-ui/core/Link\";\nimport { injectIntl, IntlShape } from \"react-intl\";\nimport { BrandContext } from \"../../../BrandContext\";\nimport { Brand } from \"../../../BrandContext/BrandContext\";\nimport useGa from \"../../../utils/useGa\";\nimport { useRenderSteps } from \"../../contexts/renderSteps\";\nimport HeaderLogin from \"../../shared/components/HeaderLogin\";\nimport InternalButton from \"../../shared/components/InternalButton\";\nimport SubTitle from \"../../shared/components/SubTitle\";\nimport Terms from \"../../shared/components/Terms\";\nimport Title from \"../../shared/components/Title\";\nimport { useUserData } from \"../../shared/hooks/UserContext\";\nimport translate from \"../../shared/i18n/translate\";\nimport useStyles from \"./styles\";\n\ntype TConfirmMainScreen = {\n    intl: IntlShape;\n};\n\ninterface RenderStepsSwitchProps extends TConfirmMainScreen {\n    onCloseClick?(): void;\n    isModal?: boolean;\n}\n\nconst ConfirmMainScreen: React.FC<RenderStepsSwitchProps> = ({ intl, onCloseClick, isModal }) => {\n    const classes = useStyles({});\n    const { saveOnGa } = useGa();\n    const { renderNewStep, setPreviousStep, previousStep } = useRenderSteps();\n    const { user, setUser } = useUserData();\n\n    const ctx = useContext(BrandContext);\n\n    const handleCreateAccount = (): Promise<string> =>\n        new Promise(resolve => {\n            saveOnGa({\n                event: \"login_event\",\n                category: \"Account\",\n                action: \"Registration\",\n                label: \"step 1 | confirm account creation\"\n            });\n            setPreviousStep(\"ConfirmMainScreen\");\n            renderNewStep(\"NewRegister\");\n            resolve(\"Success\");\n        });\n    const handleMainScreen = () => {\n        saveOnGa({\n            event: \"login_event\",\n            category: \"Account\",\n            action: \"Account\",\n            label: \"action :: change email\"\n        });\n        setUser({\n            ...user,\n            email: \"\"\n        });\n        renderNewStep(\"MainScreen\");\n    };\n\n    return (\n        <>\n            <HeaderLogin isModal={isModal} previousStep={previousStep} onCloseClick={onCloseClick} />\n            <div className={classes.root}>\n                <Title className={classes.title}>{translate({ id: \"ConfirmMainScreen.title\" })}</Title>\n                <SubTitle className={classes.subTitle}>\n                    {translate({\n                        id: \"ConfirmMainScreen.subTitle\",\n                        value: {\n                            email: <strong className={classes.email}>{user ? user.email : \"\"}</strong>,\n                            brand: <span>da {ctx.name} </span>\n                        }\n                    })}\n                </SubTitle>\n                <Link onClick={handleMainScreen} className={classes.changeEmail}>\n                    <SubTitle variant=\"caption\" className={classes.subTitleLinkChangeEmail}>\n                        {translate({ id: \"ConfirmMainScreen.linkChangeEmail\" })}\n                    </SubTitle>\n                </Link>\n                <div className={classes.buttonContainer}>\n                    <InternalButton type=\"button\" text={intl.formatMessage({ id: \"ConfirmMainScreen.createAccountButton\" })} handlerClick={handleCreateAccount} />\n                </div>\n            </div>\n            <Terms />\n        </>\n    );\n};\n\nexport default injectIntl(ConfirmMainScreen);\n"],"file":"index.js"}