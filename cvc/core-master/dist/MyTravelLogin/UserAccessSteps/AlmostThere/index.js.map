{"version":3,"sources":["../../../../src/MyTravelLogin/UserAccessSteps/AlmostThere/index.tsx"],"names":["AlmostThere","intl","isModal","onCloseClick","almostThereTitle","formatMessage","id","almostReadyTitle","almostThereSubTitle","almostReadySubTitle","inputPlaceholderBirthdate","inputPlaceholderCPF","inputInfoCPF","inputPlaceholderPhone","inputPlaceholderName","errorBirthdateIsRequired","errorInvalidFormmat","errorPhoneIsRequired","errorCpfIsRequired","errorNameIsRequired","termsAndConditionsPart1","termsAndConditionsPart2","termsAndConditionsPart3","termsAndConditionsPart4","termsAndConditionsPart5","almostThereActionButton","almostReadyActionButton","successToastMessageTitle","successToastMessageDescription","errorMessageTitle","errorMessageDescription","formRef","patchProfile","profileData","setIsPatchProfileScreenToggle","isRegisterUserProfileStep","setIsRegisterUserProfileStepToggle","isUserAuth","isConfig","setIsUserAuth","logout","classes","addToast","isAuth","contact","acceptedMaisCVC","birthdate","name","cpf","current","setFieldValue","replacedBirthdate","replaceAll","invertedBirthdate","split","reverse","join","phones","length","phoneNumber","submitForm","formData","setErrors","schema","Yup","object","shape","string","required","min","phone","validate","abortEarly","formmatedBirthdate","postData","emails","type","title","description","setTimeout","window","location","href","ValidationError","noReload","root","subTitle","inputWrapper","internalButtonWrapper"],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable react-hooks/rules-of-hooks */\n/* eslint-disable no-useless-escape */\n/* eslint-disable no-extra-boolean-cast */\nimport React, { useRef, useCallback, useEffect } from \"react\";\nimport { FormHandles } from \"@unform/core\";\nimport { injectIntl, IntlShape } from \"react-intl\";\nimport * as Yup from \"yup\";\nimport {useProfileContext} from \"../../../ProfileContext\"\nimport { IPatchProfile } from \"../../../ProfileContext/types\";\nimport { useUserDataContext } from \"../../../UserContext\";\nimport { useToast } from \"../../contexts/Toast\";\nimport Checkbox from \"../../shared/components/Checkbox\";\nimport Form from \"../../shared/components/Form\";\nimport HeaderLogin from \"../../shared/components/HeaderLogin\";\nimport Input from \"../../shared/components/Input\";\nimport InternalButton from \"../../shared/components/InternalButton\";\nimport SubTitle from \"../../shared/components/SubTitle\";\nimport Title from \"../../shared/components/Title\";\nimport getValidationErrors from \"../../shared/utils/getValidationErrors\";\nimport Redirect from \"../../shared/utils/Redirect\";\nimport useStyles from \"./styles\";\n\ninterface IFormData {\n    name: string\n    cpf: string\n    birthdate: string\n    phone: string\n    acceptedMaisCVC: boolean\n}\n\ninterface AlmostThereProps  {\n    onCloseClick?(): void;\n    isModal?: boolean;\n    intl: IntlShape;\n}\n\nconst AlmostThere: React.FC<AlmostThereProps> = ({ intl, isModal, onCloseClick }) => {\n    const almostThereTitle = intl.formatMessage({ id: \"AlmostThere.almostThereTitle\" });\n    const almostReadyTitle = intl.formatMessage({ id: \"AlmostThere.almostReadyTitle\" });\n    const almostThereSubTitle = intl.formatMessage({ id: \"AlmostThere.almostThereSubTitle\" });\n    const almostReadySubTitle = intl.formatMessage({ id: \"AlmostThere.almostReadySubTitle\" });\n    const inputPlaceholderBirthdate = intl.formatMessage({ id: \"AlmostThere.inputPlaceholderBirthdate\" });\n    const inputPlaceholderCPF = intl.formatMessage({ id: \"AlmostThere.inputPlaceholderCPF\" });\n    const inputInfoCPF = intl.formatMessage({ id: \"AlmostThere.inputInfoCPF\" });\n    const inputPlaceholderPhone = intl.formatMessage({ id: \"AlmostThere.inputPlaceholderPhone\" });\n    const inputPlaceholderName = intl.formatMessage({ id: \"AlmostThere.inputPlaceholderName\" });\n    const errorBirthdateIsRequired = intl.formatMessage({ id: \"AlmostThere.errorBirthdateIsRequired\" });\n    const errorInvalidFormmat = intl.formatMessage({ id: \"AlmostThere.errorInvalidFormmat\" });\n    const errorPhoneIsRequired = intl.formatMessage({ id: \"AlmostThere.errorPhoneIsRequired\" });\n    const errorCpfIsRequired = intl.formatMessage({ id: \"AlmostThere.errorCpfIsRequired\" });\n    const errorNameIsRequired = intl.formatMessage({ id: \"AlmostThere.errorNameIsRequired\" });\n    const termsAndConditionsPart1 = intl.formatMessage({ id: \"AlmostThere.termsAndConditionsPart1\" });\n    const termsAndConditionsPart2 = intl.formatMessage({ id: \"AlmostThere.termsAndConditionsPart2\" });\n    const termsAndConditionsPart3 = intl.formatMessage({ id: \"AlmostThere.termsAndConditionsPart3\" });\n    const termsAndConditionsPart4 = intl.formatMessage({ id: \"AlmostThere.termsAndConditionsPart4\" });\n    const termsAndConditionsPart5 = intl.formatMessage({ id: \"AlmostThere.termsAndConditionsPart5\" });\n    const almostThereActionButton = intl.formatMessage({ id: \"AlmostThere.almostThereActionButton\" });\n    const almostReadyActionButton = intl.formatMessage({ id: \"AlmostThere.almostReadyActionButton\" });\n    const successToastMessageTitle = intl.formatMessage({ id: \"AlmostThere.successToastMessageTitle\" });\n    const successToastMessageDescription = intl.formatMessage({ id: \"AlmostThere.successToastMessageDescription\" });\n    const errorMessageTitle = intl.formatMessage({ id: \"AlmostThere.errorMessageTitle\" });\n    const errorMessageDescription = intl.formatMessage({ id: \"AlmostThere.errorMessageDescription\" });\n\n    const formRef = useRef<FormHandles>(null);\n\n    const {\n        patchProfile,\n        profileData,\n        setIsPatchProfileScreenToggle,\n        isRegisterUserProfileStep,\n        setIsRegisterUserProfileStepToggle\n    } = useProfileContext()\n\n    const { isUserAuth, isConfig, setIsUserAuth, logout } = useUserDataContext();\n\n    const classes = useStyles({});\n    const {addToast} = useToast()\n\n    useEffect(() => {\n        setIsRegisterUserProfileStepToggle(true)\n    }, [setIsRegisterUserProfileStepToggle]);\n\n    useEffect(() => {\n        setIsPatchProfileScreenToggle(true)\n    },[setIsPatchProfileScreenToggle])\n\n    useEffect(() => {\n        if (isConfig) {\n            const isAuth = async () => {\n                setIsUserAuth(isUserAuth);\n            };\n            isAuth();\n        }\n    }, [isConfig, isUserAuth]);\n\n    const { contact, acceptedMaisCVC, birthdate, name, cpf} = profileData\n\n    useEffect(() => {\n        if(name) formRef?.current?.setFieldValue(\"name\", name)\n        if (cpf) formRef?.current?.setFieldValue(\"cpf\", cpf);\n        if (birthdate){\n            const replacedBirthdate = birthdate.replaceAll(\"-\", \"/\")\n            const invertedBirthdate = replacedBirthdate.split(\"/\").reverse().join(\"/\")\n            formRef?.current?.setFieldValue(\"birthdate\", invertedBirthdate);\n        }\n        if(contact && contact.phones && contact.phones.length > 0) formRef?.current?.setFieldValue(\"phone\", contact.phones[0].phoneNumber);\n    }, [ birthdate, contact, cpf, name])\n\n    const submitForm =\n        useCallback(async (formData: IFormData) => {\n            try {\n                formRef.current?.setErrors({});\n\n                const schema = Yup.object().shape({\n                    name: Yup.string().required(errorNameIsRequired),\n                    cpf: Yup.string().min(14, errorInvalidFormmat).required(errorCpfIsRequired),\n                    birthdate: Yup.string().min(10, errorInvalidFormmat).required(errorBirthdateIsRequired),\n                    phone: Yup.string().required(errorPhoneIsRequired),\n                });\n\n                await schema.validate(formData, {\n                    abortEarly: false,\n                });\n\n                const replacedBirthdate = formData.birthdate.replaceAll(\"/\", \"-\")\n                const invertedBirthdate = replacedBirthdate.split(\"-\").reverse().join(\"-\")\n\n                const formmatedBirthdate = invertedBirthdate\n\n                const postData: IPatchProfile = {\n                    name: formData.name,\n                    birthdate: formmatedBirthdate,\n                    contact: {\n                        emails: [],\n                        phones: [{\n                            type: \"PERSONAL\",\n                            phoneNumber: formData.phone,\n                        }]\n                    },\n                    cpf: formData.cpf,\n                    acceptedMaisCVC: formData.acceptedMaisCVC,\n                }\n\n                await patchProfile(postData)\n                setIsUserAuth(true)\n                addToast({\n                    type: \"success\", title: successToastMessageTitle, description: successToastMessageDescription });\n\n                if (isModal) {\n                    setTimeout(async() => {\n                        if (onCloseClick) {\n                            onCloseClick();\n                        }\n                    }, 3000);\n                } else {\n                    window.location.href = Redirect();\n                }\n\n            } catch (err) {\n                addToast({\n                    type: \"error\", title: errorMessageTitle, description: errorMessageDescription });\n                if (err instanceof Yup.ValidationError) {\n                    formRef.current?.setErrors(getValidationErrors(err));\n\n                }\n            }\n        }, [addToast, isModal, onCloseClick, patchProfile, setIsUserAuth]);\n\n    return <>\n        <HeaderLogin isModal={isModal} previousStep=\"MainScreen\" onCloseClick={async() => {\n            if (onCloseClick) {\n                await logout({\n                    noReload: true\n                })\n                onCloseClick()\n            }\n        }} />\n\n        <div className={classes.root}>\n            <Form ref={formRef} handleSubmit={submitForm}>\n                <Title>\n                    {isRegisterUserProfileStep ? almostReadyTitle : almostThereTitle }\n                </Title>\n                <SubTitle className={classes.subTitle }>\n                    { isRegisterUserProfileStep ?\n                        almostReadySubTitle :\n                        almostThereSubTitle\n                    }\n                </SubTitle>\n                <div className={classes.inputWrapper}>\n                    <Input\n                        name=\"name\"\n                        placeholderText={inputPlaceholderName}\n                        shrink={!!name}\n                    />\n                </div>\n                <div className={classes.inputWrapper}>\n                    <Input\n                        name=\"cpf\"\n                        placeholderText={inputPlaceholderCPF}\n                        hasMask\n                        mask={!!cpf ? \"\\\\*\\\\*\\\\*.\\\\*\\\\*\\\\*.99\\\\*-9\\\\*\" : \"999.999.999-99\"}\n                        autoComplete=\"off\"\n                        shrink={!!cpf}\n                        disabledInput={!!cpf}\n                        showTip\n                        infoMessage={inputInfoCPF}\n                    />\n                </div>\n                <div className={classes.inputWrapper}>\n                    <Input\n                        name=\"birthdate\"\n                        placeholderText={inputPlaceholderBirthdate}\n                        hasMask\n                        mask=\"99/99/9999\"\n                        shrink={!!birthdate}\n                    />\n                </div>\n                <div className={classes.inputWrapper}>\n                    <Input\n                        name=\"phone\"\n                        placeholderText={inputPlaceholderPhone}\n                        hasMask\n                        mask=\"(99) 999999999\"\n                        shrink={(contact && contact?.phones && contact.phones.length > 0)}\n                    />\n\n                </div>\n                {!acceptedMaisCVC &&\n                    <Checkbox\n                        name=\"acceptedMaisCVC\"\n                        value=\"consent\"\n                        label={(<>\n                            {`${termsAndConditionsPart1} `}<a target=\"_blank\" href=\"https://qa.cvc.com.br/cartao-de-credito-cvc\" rel=\"noreferrer\"> {`${termsAndConditionsPart2} `}</a>{`${termsAndConditionsPart3} `}<a target=\"_blank\" href=\"https://cartaoitau.cvc.com.br/maiscvc_regulamento.pdf\" rel=\"noreferrer\">{`${termsAndConditionsPart4} `}</a>{`${termsAndConditionsPart5}`}\n                        </>)}\n                    />\n                }\n                <div className={classes.internalButtonWrapper}>\n                    <InternalButton type=\"submit\" text={isRegisterUserProfileStep ? almostReadyActionButton : almostThereActionButton } />\n                </div>\n            </Form>\n        </div>\n    </>\n\n};\n\nexport default injectIntl(AlmostThere);\n"],"file":"index.js"}