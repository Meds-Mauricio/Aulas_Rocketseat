{"version":3,"sources":["../../../src/Calendar/Calendar2days/Calendar2days.js"],"names":["NUMBER_OF_MONTHS_SHOWN_ON_DESKTOP","MIN_NUMBER_OF_MONTHS_SHOWN_ON_MOBILE","Calendar","minDate","maxDate","startDate","endDate","onDatesChange","isMobile","classes","onFocusChange","focus","isOutsideRange","focusedInput","setFocusedInput","dStart","setStart","dEnd","setEnd","numberOfMonths","setNumberOfMonths","setNumberOfMonthsBasedOnScreenTypeAndStartAndEndDates","todayMoment","startDateMoment","startDateIsBeforeToday","isBefore","startDateDay","date","todayDay","daysOffset","totalMonthsDistancePassed","diff","totalNumberOfMonthsUsingPreviousStartDate","endDateMoment","totalMonthsDistance","totalNumberOfMonthsUsingFutureEndDate","getInitialVisibleMonthByStartDate","result","isOutsideRangeVerification","day","onlyStartDateIsFilled","startDateIsNotBeforeToday","defaultOutsideRange","undefined","maxDateBasedOnStartDate","add","isNotAfterStartDate","isAfterMaxDateBasedOnStartDate","defaultMinDate","startOf","isBeforeMinDate","isAfterMaxDate","renderDay","tomorrowDay","format","currentDay","root","e","propTypes","onDateChange","PropTypes","func","bool","number","styles","withTheme"],"mappings":"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","sourcesContent":["import { withStyles } from \"@material-ui/core/styles\";\nimport moment from \"moment\";\nimport PropTypes from \"prop-types\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport DayPickerRangeController from \"react-dates/lib/components/DayPickerRangeController\";\nimport { styles } from \"../styles\";\n\nconst NUMBER_OF_MONTHS_SHOWN_ON_DESKTOP = 2;\nconst MIN_NUMBER_OF_MONTHS_SHOWN_ON_MOBILE = 13; // precisa ser 13 pra contemplar um ano inteiro\n\nconst Calendar = ({ minDate, maxDate, startDate, endDate, onDatesChange, isMobile, classes, onFocusChange, focus, isOutsideRange }) => {\n    const [focusedInput, setFocusedInput] = useState(focus);\n    const [dStart, setStart] = useState(startDate);\n    const [dEnd, setEnd] = useState(endDate);\n    const [numberOfMonths, setNumberOfMonths] = useState(NUMBER_OF_MONTHS_SHOWN_ON_DESKTOP);\n\n    const setNumberOfMonthsBasedOnScreenTypeAndStartAndEndDates = useCallback((isMobile, startDate, endDate) => {\n        const todayMoment = moment();\n        if (isMobile) {\n            const startDateMoment = moment(startDate);\n            const startDateIsBeforeToday = startDateMoment.isBefore(todayMoment);\n            if (startDateIsBeforeToday) {\n                const startDateDay = startDateMoment.date();\n                const todayDay = todayMoment.date();\n                const daysOffset = startDateDay > todayDay ? 1 : 0;\n                const totalMonthsDistancePassed = todayMoment.diff(startDateMoment, \"months\");\n                const totalNumberOfMonthsUsingPreviousStartDate = totalMonthsDistancePassed + MIN_NUMBER_OF_MONTHS_SHOWN_ON_MOBILE + daysOffset;\n                setNumberOfMonths(totalNumberOfMonthsUsingPreviousStartDate);\n            } else {\n                const endDateMoment = moment(endDate);\n                const totalMonthsDistance = endDateMoment.diff(todayMoment, \"months\");\n                const totalNumberOfMonthsUsingFutureEndDate = totalMonthsDistance >= MIN_NUMBER_OF_MONTHS_SHOWN_ON_MOBILE ? totalMonthsDistance + 1 : MIN_NUMBER_OF_MONTHS_SHOWN_ON_MOBILE;\n                setNumberOfMonths(totalNumberOfMonthsUsingFutureEndDate);\n            }\n        } else {\n            setNumberOfMonths(NUMBER_OF_MONTHS_SHOWN_ON_DESKTOP);\n        }\n    }, []);\n\n    const getInitialVisibleMonthByStartDate = useCallback(() => {\n        if (isMobile) {\n            return minDate || moment();\n        }\n        if (startDate) {\n            const todayMoment = moment();\n            const result = todayMoment.isBefore(startDate) ? startDate : todayMoment;\n            return result;\n        }\n        return minDate || moment();\n    }, [startDate]);\n\n    const isOutsideRangeVerification = useCallback(\n        day => {\n            const onlyStartDateIsFilled = startDate && !endDate;\n            const todayMoment = moment();\n            const startDateIsNotBeforeToday = moment(startDate)?.diff(todayMoment) >= 0;\n\t\t\t\tif (onlyStartDateIsFilled && startDateIsNotBeforeToday) {\n\t\t\t\t\tlet defaultOutsideRange = 330;\n\t\t\t\t\tif(isOutsideRange === undefined|| isOutsideRange === null ) {\n\t\t\t\t\t\tisOutsideRange = defaultOutsideRange;\n\t\t\t\t\t}\n\t\t\t\t\tconst maxDateBasedOnStartDate = moment(startDate).add(isOutsideRange, \"days\");\n\t\t\t\t\tconst isNotAfterStartDate = day?.diff(startDate) <= 0;\n\t\t\t\t\tconst isAfterMaxDateBasedOnStartDate = maxDateBasedOnStartDate?.diff(day) < 0;\n\t\t\t\t\treturn isNotAfterStartDate || isAfterMaxDateBasedOnStartDate;\n\t\t\t\t}\n\t\t\t\tlet defaultMinDate = moment().add(1, \"days\").startOf(\"day\");\n\t\t\t\tif(minDate !== undefined) {\n\t\t\t\t\tdefaultMinDate = minDate;\n\t\t\t\t}\n\t\t\t\tconst isBeforeMinDate = defaultMinDate?.diff(day) > 0;\n\t\t\t\tconst isAfterMaxDate = maxDate?.diff(day) < 0;\n\t\t\t\treturn isBeforeMinDate || isAfterMaxDate;\n        },\n        [minDate, maxDate, startDate, endDate]\n    );\n\n    const renderDay = day => {\n        const tomorrowDay = moment()\n            .add(1, \"days\")\n            .format(\"YYYY-MM-DD\");\n        const currentDay = day.format(\"YYYY-MM-DD\");\n        const startDateIsNotBeforeToday = tomorrowDay === currentDay;\n        return startDateIsNotBeforeToday ? (\n            <div className=\"DayPicker__firstDayUnlockedMobileContainer\">\n                <div className=\"DayPicker__firstDayUnlockedMobile\">{day.format(\"D\")}</div>\n            </div>\n        ) : (\n            day.format(\"D\")\n        );\n    };\n\n    useEffect(() => {\n        setNumberOfMonthsBasedOnScreenTypeAndStartAndEndDates(isMobile, startDate, endDate);\n    }, [isMobile, startDate, endDate, setNumberOfMonthsBasedOnScreenTypeAndStartAndEndDates]);\n\n    useEffect(() => {\n        setStart(startDate);\n        setEnd(endDate);\n    }, [startDate, endDate]);\n\n    useEffect(() => {\n        setStart(startDate);\n        setEnd(endDate);\n    }, [startDate, endDate]);\n\n    return (\n        <div className={classes.root}>\n            <DayPickerRangeController\n                renderDayContents={renderDay}\n                minDate={minDate}\n                maxDate={maxDate}\n                startDate={dStart}\n                endDate={dEnd}\n                onDatesChange={({ startDate, endDate }) => {\n                    setStart(startDate);\n                    setEnd(endDate);\n                    onDatesChange({\n                        startDate,\n                        endDate\n                    });\n                }}\n                focusedInput={focusedInput}\n                onFocusChange={e => {\n                    const focus = !e ? \"startDate\" : \"endDate\";\n                    setFocusedInput(focus);\n                    onFocusChange(focus);\n                }}\n                numberOfMonths={numberOfMonths}\n                initialVisibleMonth={getInitialVisibleMonthByStartDate}\n                orientation={isMobile ? \"verticalScrollable\" : \"horizontal\"}\n                isOutsideRange={isOutsideRangeVerification}\n            />{\" \"}\n        </div>\n    );\n};\n\nCalendar.propTypes = {\n    onDateChange: PropTypes.func,\n    isMobile: PropTypes.bool,\n    startDate: PropTypes.date,\n    endDate: PropTypes.date,\n    isOutsideRange: PropTypes.number\n};\n\n\nexport default withStyles(styles, {\n    withTheme: true\n})(Calendar);\n"],"file":"Calendar2days.js"}