{"version":3,"sources":["../../src/FilterRange/FilterRange.js"],"names":["FilterRange","props","rangeValue","onApply","label","onReset","noModal","className","maskOptions","isMobile","open","onOpen","onClose","values","height","filterTitle","disabled","JSON","stringify","isApply","setIsApply","isReset","setIsReset","isActive","value","_onApply","prefix","min","max","_onClose","Child","defaultProps","classes","undefined","onChange","step","handleFocus","handleBlur","handleChange","propTypes","PropTypes","oneOfType","object","string","func","bool","number","ContentRange","onChangeCommitted","rangeTitleValues","currencyMask","sliderValues","setSliderValues","text","highlight","v","event","inputContainer","input","e","replaceValue","target","replace","Number","newRange","styles","withTheme"],"mappings":"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","sourcesContent":["/* eslint-disable no-self-compare */\n\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport createNumberMask from \"text-mask-addons/dist/createNumberMask\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Slider from \"../Slider\";\nimport Filter from \"../Filter\";\nimport Typography from \"../Typography\";\nimport TextField from \"../TextField\";\nimport { styles } from \"./styles\";\n\nconst FilterRange = props => {\n    const {\n        rangeValue,\n        onApply,\n        label,\n        onReset,\n        noModal,\n        className,\n        maskOptions,\n        isMobile,\n        open,\n        onOpen,\n        onClose,\n        values,\n        height,\n        filterTitle,\n    } = props;\n\n    const disabled = JSON.stringify(rangeValue) === JSON.stringify(values);\n\n    const [isApply, setIsApply] = useState(!disabled);\n    const [isReset, setIsReset] = useState(false);\n\n    const isActive = () => {\n        if (JSON.stringify(rangeValue) === JSON.stringify(values) && isApply) {\n            setIsApply(false);\n        }\n        return !noModal && JSON.stringify(rangeValue) !== JSON.stringify(values);\n    };\n\n    const value = filterTitle || \"\";\n\n    const _onApply = () => {\n        setIsApply(true);\n        onApply(\n            `${maskOptions ? maskOptions.prefix : \"\"}${rangeValue.min} - ${maskOptions ? maskOptions.prefix : \"\"\n            } ${rangeValue.max}`\n        );\n    };\n\n    const _onClose = () => {\n        setIsApply(true);\n        onClose(\n            `${maskOptions ? maskOptions.prefix : \"\"}${rangeValue.min} - ${maskOptions ? maskOptions.prefix : \"\"\n            } ${rangeValue.max}`\n        );\n    };\n\n    const Child = () => (\n        <ContentRange {...props} />\n    );\n\n    useEffect(() => {\n        if (isReset) {\n            setIsApply(false);\n            setIsReset(false);\n            onReset();\n        }\n    }, [isReset]);\n\n    return (\n        <Filter\n            className={className}\n            isList\n            isMobile={isMobile}\n            noModal={noModal}\n            label={label}\n            height={height}\n            items={[!isReset ? <ContentRange {...props} /> : <Child />]}\n            onOpen={() => onOpen()}\n            isOpen={open}\n            onApply={_onApply}\n            onReset={() => {\n                setIsReset(true);\n            }}\n            onClose={_onClose}\n            isActive={isActive() && isApply}\n            value={[value]}\n            disabled={disabled}\n            isReset={isReset}\n        />\n    );\n};\n\nFilterRange.defaultProps = {\n    classes: undefined,\n    onApply: undefined,\n    onReset: undefined,\n    noModal: false,\n    onChange: undefined,\n    className: undefined,\n    isMobile: false,\n    step: 50,\n    open: false,\n    onOpen: undefined,\n    onClose: undefined,\n    handleFocus: undefined,\n    handleBlur: undefined,\n    handleChange: undefined,\n};\n\nFilterRange.propTypes = {\n    classes: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n    onApply: PropTypes.func,\n    onReset: PropTypes.func,\n    noModal: PropTypes.bool,\n    onChange: PropTypes.func,\n    className: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n    isMobile: PropTypes.bool,\n    step: PropTypes.number,\n    open: PropTypes.bool,\n    onOpen: PropTypes.func,\n    onClose: PropTypes.func,\n    handleFocus: PropTypes.func,\n    handleBlur: PropTypes.func,\n    handleChange: PropTypes.func,\n};\n\nconst ContentRange = ({\n    classes,\n    rangeValue,\n    onChangeCommitted,\n    maskOptions,\n    step,\n    rangeTitleValues,\n    handleFocus,\n    handleBlur,\n    handleChange,\n    values,\n}) => {\n    const currencyMask = createNumberMask({\n        ...maskOptions,\n    });\n    const [sliderValues, setSliderValues] = useState({ ...rangeValue });\n    return (\n        <>\n            <Typography type=\"captionregular\" className={classes.text}>\n                de <span className={classes.highlight}>R$ {rangeTitleValues.min}</span>{\" \"}\n        at√© <span className={classes.highlight}>R$ {rangeTitleValues.max}</span>\n            </Typography>\n            <Slider\n                handleChange={v => {\n                    setSliderValues({ min: v[0], max: v[1] });\n                }}\n                onChangeCommitted={(event, v) => {\n                    onChangeCommitted({ min: v[0], max: v[1] });\n                }}\n                values={[sliderValues.min, sliderValues.max]}\n                min={values.min}\n                max={values.max}\n                step={step}\n                prefix={maskOptions.prefix}\n            />\n            <div className={classes.inputContainer}>\n                <TextField\n                    placeholder={maskOptions.prefix}\n                    currencyMask={currencyMask}\n                    label=\"Inicial\"\n                    rootClassName={classes.input}\n                    value={`${sliderValues.min}`}\n                    onFocus={() => handleFocus(\"min\")}\n                    onBlur={() => handleBlur(\"min\")}\n                    onChange={e => {\n                        const replaceValue = e.target.value.replace(maskOptions.prefix, \"\").replace(\".\", \"\");\n                        if (Number(replaceValue) || replaceValue === 0 || replaceValue === \"\") {\n                            const newRange = {\n                                min: Number(replaceValue),\n                                max: sliderValues.max\n                            };\n                            setSliderValues({ min: newRange.min, max: newRange.max });\n                            handleChange(e.target.value, \"min\");\n                        }\n                    }}\n                    error={false}\n                    type=\"text\"\n                    mask\n                />\n                <TextField\n                    placeholder={maskOptions.prefix}\n                    currencyMask={currencyMask}\n                    label=\"Final\"\n                    rootClassName={classes.input}\n                    value={`${sliderValues.max}`}\n                    onFocus={() => handleFocus(\"max\")}\n                    onBlur={() => handleBlur(\"max\")}\n                    onChange={e => {\n                        const replaceValue =  e.target.value.replace(maskOptions.prefix, \"\").replace(\".\", \"\");\n                        if (Number(replaceValue) || replaceValue === 0 || replaceValue === \"\") {\n                            const newRange = {\n                                min: sliderValues.min,\n                                max: Number(replaceValue),\n                            };\n                            setSliderValues({ min: newRange.min, max: newRange.max });\n                            handleChange(e.target.value, \"max\");\n                        }\n                    }}\n                    error={false}\n                    type=\"text\"\n                    mask\n                />\n            </div>\n        </>\n    );\n};\n\nexport default withStyles(styles, { withTheme: true })(FilterRange);\n"],"file":"FilterRange.js"}