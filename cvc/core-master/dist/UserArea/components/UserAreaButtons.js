"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireDefault(require("react"));var _core=require("@material-ui/core");var _classnames=_interopRequireDefault(require("classnames"));var _=require(".");var _Button=_interopRequireDefault(require("../../Button"));var _Link=_interopRequireDefault(require("../../Link"));var _Typography=_interopRequireDefault(require("../../Typography"));var _styles=require("../styles");var UserAreaButtons=function UserAreaButtons(_ref){var userName=_ref.userName,isMobile=_ref.isMobile,lightTheme=_ref.lightTheme,className=_ref.className,onClickLogout=_ref.onClickLogout,onClickMyTravels=_ref.onClickMyTravels,employer=_ref.employer,newLogin=_ref.newLogin,isCVC=_ref.isCVC;var classes=(0,_styles.useStyles)({});var _React$useState=_react["default"].useState(null),_React$useState2=(0,_slicedToArray2["default"])(_React$useState,2),menuOpened=_React$useState2[0],setMenuOpened=_React$useState2[1];var menuButtonRef=_react["default"].useRef(null);var getOffset=function getOffset(el){if(!el.current)return{top:0,left:0};var rect=el.current.getBoundingClientRect();var menu=document.getElementById("customer-menu-icon");return{left:rect.left+window.scrollX-menu.offsetWidth/2.4,top:rect.top+window.scrollY-el.current.offsetHeight/2}};var openPopup=function openPopup(event){event.preventDefault();if(!employer){setMenuOpened(event.currentTarget.parentNode)}};var closePopup=function closePopup(){setMenuOpened(null)};if(newLogin){if(!isMobile){return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement("div",{id:"customer-menu-icon",className:classes.newButtonsContainer},!employer?/*#__PURE__*/_react["default"].createElement(_Link["default"],{className:classes.user,href:"/mytravels/reservations",onClick:onClickMyTravels},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body2semibold",className:classes.user},"Minhas Viagens")):/*#__PURE__*/_react["default"].createElement(_Button["default"],{onClick:onClickLogout,color:"primary",label:"Sair",size:"small",variant:"outlined",className:(0,_classnames["default"])(classes.logout,classes.logoutLeft)}),/*#__PURE__*/_react["default"].createElement("a",{href:"#",onClick:openPopup,ref:menuButtonRef},/*#__PURE__*/_react["default"].createElement(_.UserAreaIcon,{rtl:!employer,text:null}))),/*#__PURE__*/_react["default"].createElement(_core.Menu,{id:"customer-menu"// anchorEl={menuOpened}
,anchorReference:"anchorPosition",anchorPosition:getOffset(menuButtonRef),keepMounted:true,open:Boolean(menuOpened),onClose:closePopup,className:classes.menu},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body1semibold",className:classes.userInfo},"Ol\xE1, ",userName||employer?"Colaborador(a)":"Viajante","!"),!employer&&/*#__PURE__*/_react["default"].createElement(_core.MenuItem,{onClick:onClickMyTravels},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body1regular"},"Minhas viagens")),!employer&&isCVC&&/*#__PURE__*/_react["default"].createElement(_core.MenuItem,null,/*#__PURE__*/_react["default"].createElement(_Link["default"],{className:classes.link,href:"/mypoints"},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body1regular"},"Mais CVC: meus pontos"))),/*#__PURE__*/_react["default"].createElement(_core.MenuItem,{onClick:onClickLogout},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body1regular"},"Sair"))))}return/*#__PURE__*/_react["default"].createElement("div",{className:classes.newButtonsContainerMobile},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"headline5",className:(0,_classnames["default"])(classes.userInfo,(0,_defineProperty2["default"])({},classes.userInfoMobile,isMobile))},"Ol\xE1, ",userName||employer?"Colaborador(a)":"Viajante","!"),!employer&&/*#__PURE__*/_react["default"].createElement(_Link["default"],{className:classes.linkMobile,href:"/mytravels/reservations",onClick:onClickMyTravels},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body1regular"},"Minhas viagens")),!employer&&isCVC&&/*#__PURE__*/_react["default"].createElement(_Link["default"],{href:"/mypoints",className:classes.linkMobile},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body1regular"},"Mais CVC: meus pontos")),/*#__PURE__*/_react["default"].createElement(_Link["default"],{href:"#",className:classes.linkLogout,onClick:onClickLogout},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body1regular"},"Sair")))}return/*#__PURE__*/_react["default"].createElement("div",{className:"".concat(lightTheme?classes.loggedLight:classes.logged," ").concat(className)},/*#__PURE__*/_react["default"].createElement(_Link["default"],{className:classes.user,href:"/mytravels/reservations",onClick:onClickMyTravels},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body2semibold",className:classes.user},"Minhas Viagens")),/*#__PURE__*/_react["default"].createElement(_Button["default"],{onClick:onClickLogout,color:"primary",label:"Sair",size:"small",variant:"outlined",className:classes.logout}))};var _default=UserAreaButtons;exports["default"]=_default;
//# sourceMappingURL=UserAreaButtons.js.map