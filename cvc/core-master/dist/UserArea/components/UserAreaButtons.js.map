{"version":3,"sources":["../../../src/UserArea/components/UserAreaButtons.tsx"],"names":["UserAreaButtons","userName","isMobile","lightTheme","className","onClickLogout","onClickMyTravels","employer","newLogin","isCVC","classes","React","useState","menuOpened","setMenuOpened","menuButtonRef","useRef","getOffset","el","current","top","left","rect","getBoundingClientRect","menu","document","getElementById","window","scrollX","offsetWidth","scrollY","offsetHeight","openPopup","event","preventDefault","currentTarget","parentNode","closePopup","newButtonsContainer","user","logout","logoutLeft","Boolean","userInfo","link","newButtonsContainerMobile","userInfoMobile","linkMobile","linkLogout","loggedLight","logged"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Menu, MenuItem } from \"@material-ui/core\";\nimport classNames from \"classnames\"\nimport { UserAreaIcon } from \".\"\nimport Button from \"../../Button\";\nimport Link from \"../../Link\";\nimport Typography from \"../../Typography\";\nimport { useStyles } from \"../styles\";\n\ninterface IUserAreaButtons {\n    userName: string\n    lightTheme: string\n    className: string\n    onClickLogout: () => void\n    onClickMyTravels?: () => void\n    employer?: boolean\n    newLogin: boolean\n    isCVC?: string\n    isMobile?: boolean\n}\n\nconst UserAreaButtons: React.FC<IUserAreaButtons> = ({\n    userName,\n    isMobile,\n    lightTheme,\n    className,\n    onClickLogout,\n    onClickMyTravels,\n    employer,\n    newLogin,\n    isCVC\n}: IUserAreaButtons) => {\n    const classes = useStyles({});\n    const [menuOpened, setMenuOpened] = React.useState(null)\n    const menuButtonRef = React.useRef(null)\n\n    const getOffset = (el) => {\n        if (!el.current) return { top: 0, left: 0 };\n        const rect = el.current.getBoundingClientRect();\n        const menu:any = document.getElementById(\"customer-menu-icon\")\n        return {\n            left: rect.left + window.scrollX - (menu.offsetWidth / 2.4),\n            top: rect.top + window.scrollY - (el.current.offsetHeight / 2)\n        };\n    }\n\n    const openPopup = (event) => {\n        event.preventDefault()\n        if (!employer) {\n            setMenuOpened(event.currentTarget.parentNode)\n        }\n    }\n\n    const closePopup = () => {\n        setMenuOpened(null)\n    }\n\n    if (newLogin) {\n        if (!isMobile) {\n            return (\n                <>\n                    <div id=\"customer-menu-icon\" className={classes.newButtonsContainer}>\n                        {!employer\n                            ? <Link className={classes.user} href=\"/mytravels/reservations\" onClick={onClickMyTravels}>\n                                <Typography type=\"body2semibold\" className={classes.user}>\n                                    Minhas Viagens\n                                </Typography>\n                            </Link>\n                            : <Button onClick={onClickLogout} color=\"primary\" label=\"Sair\" size=\"small\" variant=\"outlined\" className={classNames(classes.logout, classes.logoutLeft)} />}\n                        <a href=\"#\" onClick={openPopup} ref={menuButtonRef}>\n                            <UserAreaIcon rtl={!employer} text={null} />\n                        </a>\n                    </div>\n                    <Menu\n                        id=\"customer-menu\"\n                        // anchorEl={menuOpened}\n                        anchorReference=\"anchorPosition\"\n                        anchorPosition={getOffset(menuButtonRef)}\n                        keepMounted\n                        open={Boolean(menuOpened)}\n                        onClose={closePopup}\n                        className={classes.menu}\n                    >\n                        <Typography type=\"body1semibold\" className={classes.userInfo}>\n                            Olá, {userName || employer ? \"Colaborador(a)\" : \"Viajante\"}!\n                        </Typography>\n                        {!employer && <MenuItem onClick={onClickMyTravels}><Typography type=\"body1regular\">Minhas viagens</Typography></MenuItem>}\n                        {!employer && isCVC && <MenuItem><Link className={classes.link} href=\"/mypoints\"><Typography type=\"body1regular\">Mais CVC: meus pontos</Typography></Link></MenuItem>}\n                        <MenuItem onClick={onClickLogout}><Typography type=\"body1regular\">Sair</Typography></MenuItem>\n                    </Menu>\n                </>\n            )\n        }\n        return (\n            <div className={classes.newButtonsContainerMobile}>\n                <Typography type=\"headline5\" className={classNames(classes.userInfo, {\n                    [classes.userInfoMobile]: isMobile\n                })}>\n                    Olá, {userName || employer ? \"Colaborador(a)\" : \"Viajante\"}!\n                </Typography>\n                {!employer && <Link className={classes.linkMobile} href=\"/mytravels/reservations\" onClick={onClickMyTravels}><Typography type=\"body1regular\">Minhas viagens</Typography></Link>}\n                {!employer && isCVC && (<Link href=\"/mypoints\" className={classes.linkMobile}><Typography type=\"body1regular\">Mais CVC: meus pontos</Typography></Link>)}\n                <Link href=\"#\" className={classes.linkLogout} onClick={onClickLogout}><Typography type=\"body1regular\">Sair</Typography></Link>\n            </div>\n        )\n    }\n\n    return (\n        <div className={`${lightTheme ? classes.loggedLight : classes.logged} ${className}`}>\n            <Link className={classes.user} href=\"/mytravels/reservations\" onClick={onClickMyTravels}>\n                <Typography type=\"body2semibold\" className={classes.user}>\n                    Minhas Viagens\n                </Typography>\n            </Link>\n            <Button onClick={onClickLogout} color=\"primary\" label=\"Sair\" size=\"small\" variant=\"outlined\" className={classes.logout} />\n        </div>\n    )\n}\n\nexport default UserAreaButtons\n"],"file":"UserAreaButtons.js"}