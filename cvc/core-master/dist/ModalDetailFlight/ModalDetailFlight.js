"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _typeof=require("@babel/runtime/helpers/typeof");Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireWildcard(require("react"));var _BrandContext=require("../BrandContext/BrandContext");var _propTypes=_interopRequireDefault(require("prop-types"));var _clsx=_interopRequireDefault(require("clsx"));var _withStyles=_interopRequireDefault(require("@material-ui/core/styles/withStyles"));var _icons=require("@cvccorp-components/icons");var _core=require("@material-ui/core");var _moment=_interopRequireDefault(require("moment"));var _Typography=_interopRequireDefault(require("../Typography"));var _Box=_interopRequireDefault(require("../Box"));var _Button=_interopRequireDefault(require("../Button"));var _styles=require("./styles");function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}/* eslint-disable react/jsx-no-target-blank */ /* eslint-disable radix */ /* eslint-disable react/no-array-index-key */var ModalDetailFlight=function ModalDetailFlight(_ref){var classes=_ref.classes,changeFlightOut=_ref.changeFlightOut,changeFlightBack=_ref.changeFlightBack,handleOpen=_ref.handleOpen,outwardFlight=_ref.outwardFlight,backFlight=_ref.backFlight;// TODO rever implementação do contexto
var ctx=(0,_react.useContext)(_BrandContext.BrandContext);var renderCardHeader=function renderCardHeader(item){function diffDateFormat(a,b){var getHours=(0,_moment["default"])(a).diff(b,"hours");var getMinutes=(0,_moment["default"])(a).diff(b,"minutes");var formatMinutes=parseInt(getMinutes)%60;return"".concat(Math.abs(parseInt(getHours)),"h").concat(Math.abs(formatMinutes))}return item&&item.flights&&!!item.flights.length&&item.flights.map(function(flight,index){return flight&&/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:12,key:index},/*#__PURE__*/_react["default"].createElement("header",{className:classes.header},/*#__PURE__*/_react["default"].createElement("img",{className:classes.ciaLogo,src:"https://almundo-com-res.cloudinary.com/image/upload/global/logos/digital-air-companies/".concat(item&&item.issuerCia,".svg"),alt:item.cia}),/*#__PURE__*/_react["default"].createElement("div",null,/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"headline6"},"Voo ",flight.flightNumber," - ",item.issuerCiaName),/*#__PURE__*/_react["default"].createElement("br",null),/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body2regular"},"Classe ",flight.cabin)))),/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:12},/*#__PURE__*/_react["default"].createElement("div",{className:(0,_clsx["default"])(classes.timeline,classes.departure)},/*#__PURE__*/_react["default"].createElement("div",{className:classes.icon}),/*#__PURE__*/_react["default"].createElement(_core.Grid,{container:true},/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:12},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body1semibold"},(0,_moment["default"])(flight.departureDateTime).format("ddd[,] D [de] MMM [-] HH:mm")),/*#__PURE__*/_react["default"].createElement("br",null),/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body2"},flight.departureAirportDescription," (",flight.departureAirport,")"),/*#__PURE__*/_react["default"].createElement("br",null)))),/*#__PURE__*/_react["default"].createElement("div",{className:(0,_clsx["default"])(classes.timeline,classes.contentTimeline)},/*#__PURE__*/_react["default"].createElement("br",null),/*#__PURE__*/_react["default"].createElement("div",{style:{color:"#999999"}},parseInt(flight.minutesDuration/60),"h ",flight.minutesDuration%60,"min de dura\xE7\xE3o"),/*#__PURE__*/_react["default"].createElement("br",null)),/*#__PURE__*/_react["default"].createElement("div",{className:(0,_clsx["default"])(classes.timeline,classes.arrival)},/*#__PURE__*/_react["default"].createElement("div",{className:classes.icon}),/*#__PURE__*/_react["default"].createElement(_core.Grid,{container:true},/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:12},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body1semibold"},(0,_moment["default"])(flight.arrivalDateTime).format("ddd[,] D [de] MMM [-] HH:mm")),/*#__PURE__*/_react["default"].createElement("br",null),/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body2"},flight.arrivalAirportDescription," (",flight.arrivalAirport,")"),/*#__PURE__*/_react["default"].createElement("br",null),/*#__PURE__*/_react["default"].createElement("br",null))))),/*#__PURE__*/_react["default"].createElement("div",{className:classes["await"]},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body2"},/*#__PURE__*/_react["default"].createElement(_icons.Clock,null)," Espera de ",diffDateFormat(flight.arrivalDateTime,item&&item.flights&&!!item.flights.length&&!!item.flights[index+1]&&item.flights[index+1].departureDateTime)," em"," ",flight.arrivalAirport," para troca de avi\xE3o")))})};var renderBaggageCard=function renderBaggageCard(item){return item&&item.flights&&!!item.flights.length&&item.flights[0]&&item.flights[0].baggageInfo&&/*#__PURE__*/_react["default"].createElement(_core.Grid,{container:true},/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:4},/*#__PURE__*/_react["default"].createElement("div",{className:item.flights[0].baggageInfo&&(0,_clsx["default"])(classes.baggageCard,classes.active)},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body1semibold"},"Bolsa Pequena"),/*#__PURE__*/_react["default"].createElement("div",null,/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body2semibold"},"1 item por adulto"),/*#__PURE__*/_react["default"].createElement("br",null),/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body2",style:{color:"#999"}},"Deve caber embaixo do assento")),/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"caption"},"Peso n\xE3o definido"))),/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:4},/*#__PURE__*/_react["default"].createElement("div",{className:item.flights[0].baggageInfo&&item.flights[0].baggageInfo.handBaggageQuantity&&item.flights[0].baggageInfo.handBaggageQuantity>0?(0,_clsx["default"])(classes.baggageCard,classes.active):classes.baggageCard},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body1semibold"},"Bagagem de m\xE3o"),/*#__PURE__*/_react["default"].createElement("div",null,/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body2semibold"},item.flights[0].baggageInfo.handBaggageQuantity," mala por adulto"),/*#__PURE__*/_react["default"].createElement("br",null),/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body2",style:{color:"#999"}},"Deve caber no bagageiro de cabine")),/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"caption"},"At\xE9 ",item.flights[0].baggageInfo.handBaggageWeight&&item.flights[0].baggageInfo.handBaggageWeight,"kg"))),/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:4},/*#__PURE__*/_react["default"].createElement("div",{className:item.flights[0].baggageInfo&&item.flights[0].baggageInfo.checkedBaggageQuantity&&item.flights[0].baggageInfo.checkedBaggageQuantity>0?(0,_clsx["default"])(classes.baggageCard,classes.active):classes.baggageCard},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body1semibold"},"Bagagem despachada"),/*#__PURE__*/_react["default"].createElement("div",null,/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body2semibold"},item.flights[0].baggageInfo.checkedBaggageQuantity," malas por adulto"),/*#__PURE__*/_react["default"].createElement("br",null),/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body2",style:{color:"#999"}},"Despachada no momento do check-in")),/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"caption"},"At\xE9 ",item.flights[0].baggageInfo.checkedBaggageWeight,"kg"))))};return/*#__PURE__*/_react["default"].createElement(_core.Paper,null,/*#__PURE__*/_react["default"].createElement(_core.Grid,{container:true,align:"center",style:{paddingTop:"20px"}},/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:12},/*#__PURE__*/_react["default"].createElement("div",{className:classes.container},/*#__PURE__*/_react["default"].createElement(_core.Grid,{container:true,align:"left"},/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:11},/*#__PURE__*/_react["default"].createElement("div",null,/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"headline3"},"Detalhes do voo"),/*#__PURE__*/_react["default"].createElement("div",null,/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,outwardFlight&&outwardFlight.flights&&!!outwardFlight.flights.length&&outwardFlight.flights[0]&&outwardFlight.flights[0].baggageInfo&&outwardFlight.flights[0].baggageInfo.checkedBaggageQuantity>0&&outwardFlight.flights[0].baggageInfo.handBaggageQuantity>0&&/*#__PURE__*/_react["default"].createElement("div",{className:classes.row},/*#__PURE__*/_react["default"].createElement(_icons.Luggage,{size:"medium",carryOn:true,handBag:true,checkedBag:true}),/*#__PURE__*/_react["default"].createElement("div",{className:classes.baggageInfo},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body1"},"Bagagens Inclusas"),/*#__PURE__*/_react["default"].createElement("br",null),/*#__PURE__*/_react["default"].createElement("a",{href:"#baggage_info",className:classes.link},"Saiba mais"))),outwardFlight&&outwardFlight.flights&&!!outwardFlight.flights.length&&outwardFlight.flights[0]&&outwardFlight.flights[0].baggageInfo&&outwardFlight.flights[0].baggageInfo.checkedBaggageQuantity===0&&outwardFlight.flights[0].baggageInfo.handBaggageQuantity>0&&/*#__PURE__*/_react["default"].createElement("div",{className:classes.row},/*#__PURE__*/_react["default"].createElement(_icons.Luggage,{size:"medium",carryOn:true,handBag:true}),/*#__PURE__*/_react["default"].createElement("div",{className:classes.baggageInfo},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body1"},"Bagagem de m\xE3o inclusa"),/*#__PURE__*/_react["default"].createElement("br",null),/*#__PURE__*/_react["default"].createElement("a",{href:"#baggage_info",className:classes.link},"Saiba mais"))),outwardFlight&&outwardFlight.flights&&!!outwardFlight.flights.length&&outwardFlight.flights[0]&&outwardFlight.flights[0].baggageInfo&&outwardFlight.flights[0].baggageInfo.checkedBaggageQuantity&&outwardFlight.flights[0].baggageInfo.checkedBaggageQuantity===0&&outwardFlight.flights[0].handBaggageQuantity&&outwardFlight.flights[0].handBaggageQuantity===0?/*#__PURE__*/_react["default"].createElement("div",{className:classes.row},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body1"},/*#__PURE__*/_react["default"].createElement(_icons.Luggage,{size:"medium",carryOn:true}),/*#__PURE__*/_react["default"].createElement("br",null),"Sem Bagagem inclusas",/*#__PURE__*/_react["default"].createElement("a",null,"Saiba mais"))):null)))),/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:1},/*#__PURE__*/_react["default"].createElement(_Box["default"],{className:classes.root,onClick:function onClick(){return handleOpen()}},/*#__PURE__*/_react["default"].createElement(_icons.Close,null))),outwardFlight&&!!Object.keys(outwardFlight).length&&/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:12},/*#__PURE__*/_react["default"].createElement("div",{className:classes.card},/*#__PURE__*/_react["default"].createElement(_core.Grid,{container:true},/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:12},/*#__PURE__*/_react["default"].createElement("div",{className:classes.cardHeader},/*#__PURE__*/_react["default"].createElement("div",null,/*#__PURE__*/_react["default"].createElement(_icons.Air,null),/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"headline4"},"Voo de Ida")))),/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:12},renderCardHeader(outwardFlight))))),backFlight&&!!Object.keys(backFlight).length&&/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:12},/*#__PURE__*/_react["default"].createElement("div",{className:classes.card},/*#__PURE__*/_react["default"].createElement(_core.Grid,{container:true},/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:12},/*#__PURE__*/_react["default"].createElement("div",{className:classes.cardHeader},/*#__PURE__*/_react["default"].createElement("div",null,/*#__PURE__*/_react["default"].createElement(_icons.Air,null),/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"headline4"},"Voo de Volta")))),/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:12},renderCardHeader(backFlight))))),/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:12,align:"left",id:"baggage_info"},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"headline5"},"Entendendo suas bagagens inclusas")),/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:12,style:{marginBottom:"30px"}},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body2",style:{color:"#999"}},"Em todo voo voc\xEA tem direito a levar uma pequena bolsa com seus pertences"))),/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:12},renderBaggageCard(outwardFlight)),/*#__PURE__*/_react["default"].createElement(_core.Grid,{container:true,align:"left",className:classes.footer},/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:12,className:classes.footerText},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body2"},"Para detalhes sobre dimens\xF5es permitidas, consultar sua companhia a\xE9rea.")),/*#__PURE__*/_react["default"].createElement(_core.Grid,{item:true,xs:12},/*#__PURE__*/_react["default"].createElement(_Typography["default"],{type:"body2"},"A ",/*#__PURE__*/_react["default"].createElement("strong",null,ctx.name)," disponibiliza em cumprimento \xE0 ",/*#__PURE__*/_react["default"].createElement("strong",null,"Resolu\xE7\xE3o ANAC 218")," - que estabelece a tranpar\xEAncia e divulga\xE7\xE3o dos percentuais de atrasos e cancelamento de voos do transporte a\xE9reo de passageiros no Brasil, o link com as estat\xEDsticas fornecidas pela Ag\xEAncia Nacional de Avia\xE7\xE3o Civil:",/*#__PURE__*/_react["default"].createElement("a",{href:"http://anac.gov.br/atrasosecancelamentos",target:"_blank",style:{textDecoration:"none"}},"anac.gov.br/atrasosecancelamentos"),".",/*#__PURE__*/_react["default"].createElement("br",null),/*#__PURE__*/_react["default"].createElement("br",null),"Lembramos que a informa\xE7\xE3o estar\xE1 dispon\xEDvel mensalmente e refere-se sempre ao m\xEAs anterior.")))))))};ModalDetailFlight.propTypes={classes:_propTypes["default"].object,onOpen:_propTypes["default"].func,onClose:_propTypes["default"].func,isOpen:_propTypes["default"].bool,title:_propTypes["default"].string,children:_propTypes["default"].object};var _default=(0,_withStyles["default"])(_styles.styles,{withTheme:true})(ModalDetailFlight);exports["default"]=_default;
//# sourceMappingURL=ModalDetailFlight.js.map