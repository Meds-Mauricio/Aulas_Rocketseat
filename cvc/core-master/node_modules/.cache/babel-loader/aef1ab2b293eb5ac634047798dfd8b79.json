{"ast":null,"code":"import _toConsumableArray from \"C:/Users/felip/OneDrive/Dokumente/cvc/core-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"C:/Users/felip/OneDrive/Dokumente/cvc/core-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"C:/Users/felip/OneDrive/Dokumente/cvc/core-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"C:/Users/felip/OneDrive/Dokumente/cvc/core-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/felip/OneDrive/Dokumente/cvc/core-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"C:/Users/felip/OneDrive/Dokumente/cvc/core-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\felip\\\\OneDrive\\\\Dokumente\\\\cvc\\\\core-master\\\\src\\\\SearchHotel\\\\SearchHotel.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { User } from \"@cvccorp-components/icons\";\nimport CustomTypography from \"../Typography\";\nimport CustomTextField from \"../TextField\";\nimport CustomButton from \"../Button\";\nimport BG from \"../assets/img/bg-motor.svg\";\nimport PesqincHotel from \"../Pesqinc/Hotel\";\nimport FullCalendar from \"../Calendar/FullCalendar\";\nimport TopResume from \"../TopResume\";\nimport Container from \"../Container\";\nimport PaxHotel from \"../Pax/Hotel\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar styles = function styles(theme) {\n  var _researchContentWrapp;\n\n  return {\n    search: _defineProperty({\n      background: theme.palette.primary.main,\n      padding: \"\".concat(theme.spacing(3), \"px \").concat(theme.spacing(3), \"px\")\n    }, theme.breakpoints.between(\"md\", \"xl\"), {\n      background: \"url(\".concat(BG, \") no-repeat \").concat(theme.palette.primary.main, \" bottom\"),\n      padding: \"\".concat(theme.spacing(5), \"px \").concat(theme.spacing(4), \"px \").concat(theme.spacing(15), \"px\")\n    }),\n    research: _defineProperty({\n      background: theme.palette.primary.main,\n      color: theme.palette.white.main,\n      padding: \"\".concat(theme.spacing(3), \"px \").concat(theme.spacing(3), \"px\")\n    }, theme.breakpoints.between(\"md\", \"xl\"), {\n      padding: \"\".concat(theme.spacing(2), \"px \").concat(theme.spacing(3), \"px\")\n    }),\n    title: {\n      color: theme.palette.white.main\n    },\n    btn: {\n      margin: \"\".concat(theme.spacing(1), \"px 0\"),\n      width: \"100%\"\n    },\n    container: {\n      marginLeft: theme.spacing(-1),\n      marginTop: theme.spacing(3),\n      width: \"calc(100% + \".concat(theme.spacing(2), \"px)\")\n    },\n    researchContainer: {\n      marginLeft: theme.spacing(-1),\n      width: \"calc(100% + \".concat(theme.spacing(2), \"px)\")\n    },\n    grid: _defineProperty({}, theme.breakpoints.between(\"md\", \"xl\"), {\n      padding: \"0 \".concat(theme.spacing(1), \"px\")\n    }),\n    researchCity: {\n      color: theme.palette.white.main\n    },\n    researchAddress: {\n      color: theme.palette.white.main\n    },\n    researchDate: _defineProperty({\n      borderRight: \"1px solid \".concat(theme.palette.white.alpha),\n      color: theme.palette.white.main,\n      paddingRight: theme.spacing(1)\n    }, theme.breakpoints.between(\"md\", \"xl\"), {\n      borderLeft: \"1px solid \".concat(theme.palette.white.alpha),\n      margin: \"0 \".concat(theme.spacing(1), \"px 0 \").concat(theme.spacing(4), \"px\"),\n      paddingLeft: theme.spacing(3)\n    }),\n    researchPax: _defineProperty({\n      color: theme.palette.white.main,\n      margin: \"0 \".concat(theme.spacing(1), \"px 0 0\")\n    }, theme.breakpoints.between(\"md\", \"xl\"), {\n      margin: \"0 \".concat(theme.spacing(5), \"px 0 \").concat(theme.spacing(1), \"px\")\n    }),\n    researchContent: {\n      display: \"inline-block\"\n    },\n    researchContentWrapper: (_researchContentWrapp = {}, _defineProperty(_researchContentWrapp, theme.breakpoints.between(\"xs\", \"md\"), {}), _defineProperty(_researchContentWrapp, theme.breakpoints.between(\"md\", \"xl\"), {\n      alignItems: \"center\",\n      display: \"flex\"\n    }), _researchContentWrapp),\n    researchContentAddress: _defineProperty({\n      display: \"flex\",\n      flexDirection: \"column\"\n    }, theme.breakpoints.between(\"md\", \"xl\"), {\n      margin: \"0 \".concat(theme.spacing(1), \"px\")\n    }),\n    researchContentAddressContainer: _defineProperty({}, theme.breakpoints.between(\"md\", \"xl\"), {\n      display: \"inline-block\"\n    }),\n    researchContentAddressFull: _defineProperty({\n      display: \"flex\"\n    }, theme.breakpoints.between(\"xs\", \"md\"), {\n      marginBottom: theme.spacing(3)\n    }),\n    researchIcon: {\n      marginLeft: theme.spacing(-0.5)\n    },\n    researchBtn: _defineProperty({}, theme.breakpoints.between(\"xs\", \"md\"), {\n      border: \"none\",\n      paddingRight: 0\n    }),\n    customTextPax: {\n      \"& > label\": {\n        transform: \"translate(58px, 20px) scale(1)!important\"\n      }\n    }\n  };\n};\n\nvar mockHistory = [{\n  name: \"Arraial do Cabo\",\n  arrival: \"06 de jun\",\n  departure: \"09 de jun\"\n}, {\n  name: \"Florianópolis\",\n  arrival: \"26 de mar\",\n  departure: \" 28 de mar\"\n}, {\n  name: \"Hotel Majorelle Hostel\",\n  arrival: \"26 de mar\",\n  departure: \"28 de mar\"\n}];\nvar mockMostSearched = [{\n  name: \"Lisboa\",\n  price: \"178\"\n}, {\n  name: \"Arraial do Cabo\",\n  price: \"93\"\n}, {\n  name: \"Buenos Aires\",\n  price: \"109\"\n}, {\n  name: \"Santiago\",\n  price: \"143\"\n}, {\n  name: \"Porto de Galinhas\",\n  price: \"143\"\n}];\nvar timerPesqinc = null;\n\nvar sortFunc = function sortFunc(a, b) {\n  if (a.type !== b.type && a.type === \"location\") return -1;\n  if (a.type !== b.type && b.type === \"hotel\") return 1;\n  return 0;\n};\n\nvar SearchHotel = function SearchHotel(props) {\n  _s();\n\n  var classes = props.classes;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      historySearch = _useState4[0],\n      setHistorySearch = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mostSearched = _useState6[0],\n      setMostSearched = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      value = _useState8[0],\n      setValue = _useState8[1];\n\n  var initialState = [{\n    value: null,\n    adults: 1,\n    children: 0,\n    ages: []\n  }];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      open = _useState10[0],\n      setOpen = _useState10[1];\n\n  var _useState11 = useState(initialState),\n      _useState12 = _slicedToArray(_useState11, 2),\n      fields = _useState12[0],\n      setFields = _useState12[1];\n\n  var _useState13 = useState({\n    value: \"\"\n  }),\n      _useState14 = _slicedToArray(_useState13, 2),\n      valueTextField = _useState14[0],\n      setTextField = _useState14[1];\n\n  var getMostSearched = function getMostSearched() {\n    return mockMostSearched;\n  };\n\n  var getHistory = function getHistory() {\n    return mockHistory;\n  };\n\n  var getLocations = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(text) {\n      var searchText, payload, result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (text) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\", []);\n\n            case 2:\n              searchText = text.replace(/ /g, \"+\");\n              _context.next = 5;\n              return fetch(\"https://euhghjmvi6.execute-api.us-east-1.amazonaws.com/b2c_ti/locations?productType=HOT&q=\".concat(searchText));\n\n            case 5:\n              payload = _context.sent;\n              _context.next = 8;\n              return payload.json();\n\n            case 8:\n              result = _context.sent;\n              return _context.abrupt(\"return\", result.locations.map(function (item) {\n                var pos = item.description.indexOf(\" -\");\n                var name = pos > -1 ? item.description.split(\" -\")[0] : item.description;\n                return _objectSpread(_objectSpread({}, item), {}, {\n                  name: item.type === \"HOTEL\" ? name : item.city,\n                  address: \"\".concat(item.state, \", \").concat(item.country),\n                  type: item.type === \"CITY\" ? \"location\" : \"hotel\"\n                });\n              }));\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getLocations(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    setHistorySearch(getHistory);\n    setMostSearched(getMostSearched);\n  }, []);\n\n  var changeText = function changeText(text) {\n    if (timerPesqinc) clearTimeout(timerPesqinc);\n    timerPesqinc = setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return getLocations(text);\n\n            case 2:\n              result = _context2.sent;\n              setSearch(result.length > 0 ? result.sort(sortFunc) : []);\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })), 500);\n  };\n\n  var handlePesqinc = function handlePesqinc(e) {\n    setValue(e.target.value);\n    changeText(e.target.value);\n  };\n\n  var handleSelect = function handleSelect(item, selectedIndex) {\n    setValue(item.name);\n  };\n\n  var handleOpen = function handleOpen() {\n    if (typeof window !== \"undefined\") {\n      if (props.isMobile) {\n        document.body.classList.add(\"stop-scroll\");\n      }\n    }\n  };\n\n  var handleClose = function handleClose() {\n    if (typeof window !== \"undefined\") {\n      if (props.isMobile) {\n        document.body.classList.remove(\"stop-scroll\");\n      }\n    }\n  };\n\n  var handleOpenPax = function handleOpenPax() {\n    // console.log(\"handleOpenPax\");\n    setOpen(!open);\n  };\n\n  var handleClosePax = function handleClosePax() {\n    setOpen(false);\n  };\n\n  var handleChange = function handleChange(value) {\n    setTextField({\n      value: value\n    });\n    setOpen(false);\n  };\n\n  var handleAdd = function handleAdd() {\n    var values = _toConsumableArray(fields);\n\n    values.push(initialState[0]);\n    setFields(values);\n  };\n\n  var handleRemove = function handleRemove(i) {\n    var values = _toConsumableArray(fields);\n\n    values.splice(i, 1);\n    setFields(values);\n  };\n\n  var handleRemoveRoom = function handleRemoveRoom() {\n    var values = _toConsumableArray(fields);\n\n    values.pop();\n    setFields(values);\n  };\n\n  var handleAdults = function handleAdults(idx, adult) {\n    var adults = _toConsumableArray(fields);\n\n    adults[idx].adults = adult;\n    setFields(adults);\n  };\n\n  var handleAddChildren = function handleAddChildren(fieldIdx, child) {\n    var children = _toConsumableArray(fields);\n\n    children[fieldIdx].children = child;\n    children[fieldIdx].ages.push({\n      value: 0\n    });\n    setFields(children);\n  };\n\n  var handleRemoveChildren = function handleRemoveChildren(fieldIdx, child) {\n    var children = _toConsumableArray(fields);\n\n    children[fieldIdx].children = child;\n    children[fieldIdx].ages.pop();\n    setFields(children);\n  };\n\n  var handleChildAge = function handleChildAge(fieldIdx, ageIdx, e) {\n    var childAge = _toConsumableArray(fields);\n\n    childAge[fieldIdx].ages[ageIdx].value = e.target.value;\n    setFields(childAge);\n  };\n\n  var handleClear = function handleClear() {\n    setFields(initialState);\n    setTextField({\n      value: \"\"\n    });\n  };\n\n  var handleReset = function handleReset() {\n    setValue(\"\");\n    changeText(\"\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: props.research ? classes.research : classes.search,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [!props.research && /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          lg: 5,\n          sm: 12,\n          children: /*#__PURE__*/_jsxDEV(CustomTypography, {\n            type: props.isMobile ? \"headline2\" : \"headline5\",\n            className: classes.title,\n            children: \"Ol\\xE1, confira os melhores hot\\xE9is para seu conforto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 29\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 25\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 21\n      }, _this), (props.researchActive || !props.research) && /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        className: props.research ? classes.researchContainer : classes.container,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          lg: 4,\n          xs: 12,\n          className: classes.grid,\n          children: /*#__PURE__*/_jsxDEV(PesqincHotel, {\n            search: search,\n            onChange: handlePesqinc,\n            onSelect: handleSelect,\n            isMobile: props.isMobile,\n            history: historySearch,\n            mostSearched: mostSearched,\n            value: value,\n            transparent: true,\n            resetValue: handleReset\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 29\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 25\n        }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          lg: 3,\n          xs: 12,\n          className: classes.grid,\n          children: /*#__PURE__*/_jsxDEV(FullCalendar, {\n            onDatesChange: function onDatesChange(dates) {},\n            isMobile: props.isMobile,\n            error: false,\n            errorMsg: null,\n            onOpen: handleOpen,\n            onClose: handleClose\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 29\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 25\n        }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          lg: 3,\n          xs: 12,\n          className: classes.grid,\n          children: /*#__PURE__*/_jsxDEV(PaxHotel, {\n            className: classes,\n            isMobile: false,\n            initialState: initialState,\n            open: open,\n            fields: fields,\n            onClick: handleOpenPax,\n            handleClose: handleClosePax,\n            handleAdd: handleAdd,\n            handleRemove: handleRemove,\n            handleRemoveRoom: handleRemoveRoom,\n            handleAdults: handleAdults,\n            handleAddChildren: handleAddChildren,\n            handleRemoveChildren: handleRemoveChildren,\n            handleChildAge: handleChildAge,\n            handleChange: handleChange,\n            valueTextField: valueTextField.value,\n            handleClear: handleClear,\n            error: false,\n            errorMsg: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 29\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 25\n        }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          lg: 2,\n          xs: 12,\n          className: classes.grid,\n          children: /*#__PURE__*/_jsxDEV(CustomButton, {\n            color: \"secondary\",\n            label: \"Buscar hot\\xE9is\",\n            variant: \"contained\",\n            size: \"large\",\n            className: classes.btn,\n            name: \"Nome\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 29\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 25\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 21\n      }, _this), !props.researchActive && props.research && /*#__PURE__*/_jsxDEV(TopResume, {\n        destination: props.destination,\n        withModal: props.withModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 21\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 282,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(SearchHotel, \"/s7mvY6h2VzXpKinHL2QjxvnPrA=\");\n\n_c = SearchHotel;\nSearchHotel.defaultProps = {\n  isMobile: false\n};\nSearchHotel.propTypes = {\n  classes: PropTypes.object.isRequired,\n  research: PropTypes.bool,\n  researchActive: PropTypes.bool,\n  withModal: PropTypes.bool,\n  destination: PropTypes.array,\n  isMobile: PropTypes.bool\n};\nSearchHotel.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"SearchHotel\",\n  \"props\": {\n    \"isMobile\": {\n      \"defaultValue\": {\n        \"value\": \"false\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"classes\": {\n      \"type\": {\n        \"name\": \"object\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"research\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"researchActive\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"withModal\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"destination\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};\nexport default withStyles(styles, {\n  withTheme: true\n})(SearchHotel);\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchHotel\");\n\nif (typeof STORYBOOK_REACT_CLASSES !== \"undefined\") {\n  STORYBOOK_REACT_CLASSES[\"src\\\\SearchHotel\\\\SearchHotel.js\"] = {\n    name: \"SearchHotel\",\n    docgenInfo: SearchHotel.__docgenInfo,\n    path: \"src\\\\SearchHotel\\\\SearchHotel.js\"\n  };\n}","map":{"version":3,"sources":["C:/Users/felip/OneDrive/Dokumente/cvc/core-master/src/SearchHotel/SearchHotel.js"],"names":["React","useState","useEffect","PropTypes","withStyles","Grid","User","CustomTypography","CustomTextField","CustomButton","PesqincHotel","FullCalendar","TopResume","Container","PaxHotel","styles","theme","search","background","palette","primary","main","padding","spacing","breakpoints","between","BG","research","color","white","title","btn","margin","width","container","marginLeft","marginTop","researchContainer","grid","researchCity","researchAddress","researchDate","borderRight","alpha","paddingRight","borderLeft","paddingLeft","researchPax","researchContent","display","researchContentWrapper","alignItems","researchContentAddress","flexDirection","researchContentAddressContainer","researchContentAddressFull","marginBottom","researchIcon","researchBtn","border","customTextPax","transform","mockHistory","name","arrival","departure","mockMostSearched","price","timerPesqinc","sortFunc","a","b","type","SearchHotel","props","classes","setSearch","historySearch","setHistorySearch","mostSearched","setMostSearched","value","setValue","initialState","adults","children","ages","open","setOpen","fields","setFields","valueTextField","setTextField","getMostSearched","getHistory","getLocations","text","searchText","replace","fetch","payload","json","result","locations","map","item","pos","description","indexOf","split","city","address","state","country","changeText","clearTimeout","setTimeout","length","sort","handlePesqinc","e","target","handleSelect","selectedIndex","handleOpen","window","isMobile","document","body","classList","add","handleClose","remove","handleOpenPax","handleClosePax","handleChange","handleAdd","values","push","handleRemove","i","splice","handleRemoveRoom","pop","handleAdults","idx","adult","handleAddChildren","fieldIdx","child","handleRemoveChildren","handleChildAge","ageIdx","childAge","handleClear","handleReset","researchActive","dates","destination","withModal","defaultProps","propTypes","object","isRequired","bool","array","withTheme"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { User } from \"@cvccorp-components/icons\";\nimport CustomTypography from \"../Typography\";\nimport CustomTextField from \"../TextField\";\nimport CustomButton from \"../Button\";\nimport BG from \"../assets/img/bg-motor.svg\";\nimport PesqincHotel from \"../Pesqinc/Hotel\";\nimport FullCalendar from \"../Calendar/FullCalendar\";\nimport TopResume from \"../TopResume\";\nimport Container from \"../Container\";\nimport PaxHotel from \"../Pax/Hotel\";\n\nconst styles = theme => ({\n    search: {\n        background: theme.palette.primary.main,\n        padding: `${theme.spacing(3)}px ${theme.spacing(3)}px`,\n        [theme.breakpoints.between(\"md\", \"xl\")]: {\n            background: `url(${BG}) no-repeat ${theme.palette.primary.main} bottom`,\n            padding: `${theme.spacing(5)}px ${theme.spacing(4)}px ${theme.spacing(\n                15\n            )}px`,\n        },\n    },\n    research: {\n        background: theme.palette.primary.main,\n        color: theme.palette.white.main,\n        padding: `${theme.spacing(3)}px ${theme.spacing(3)}px`,\n        [theme.breakpoints.between(\"md\", \"xl\")]: {\n            padding: `${theme.spacing(2)}px ${theme.spacing(3)}px`,\n        },\n    },\n    title: { color: theme.palette.white.main },\n    btn: {\n        margin: `${theme.spacing(1)}px 0`,\n        width: \"100%\",\n    },\n    container: {\n        marginLeft: theme.spacing(-1),\n        marginTop: theme.spacing(3),\n        width: `calc(100% + ${theme.spacing(2)}px)`,\n    },\n    researchContainer: {\n        marginLeft: theme.spacing(-1),\n        width: `calc(100% + ${theme.spacing(2)}px)`,\n    },\n    grid: {\n        [theme.breakpoints.between(\"md\", \"xl\")]: {\n            padding: `0 ${theme.spacing(1)}px`,\n        },\n    },\n    researchCity: { color: theme.palette.white.main },\n    researchAddress: { color: theme.palette.white.main },\n    researchDate: {\n        borderRight: `1px solid ${theme.palette.white.alpha}`,\n        color: theme.palette.white.main,\n        paddingRight: theme.spacing(1),\n        [theme.breakpoints.between(\"md\", \"xl\")]: {\n            borderLeft: `1px solid ${theme.palette.white.alpha}`,\n            margin: `0 ${theme.spacing(1)}px 0 ${theme.spacing(4)}px`,\n            paddingLeft: theme.spacing(3),\n        },\n    },\n    researchPax: {\n        color: theme.palette.white.main,\n        margin: `0 ${theme.spacing(1)}px 0 0`,\n        [theme.breakpoints.between(\"md\", \"xl\")]: {\n            margin: `0 ${theme.spacing(5)}px 0 ${theme.spacing(1)}px`,\n        },\n    },\n    researchContent: { display: \"inline-block\" },\n    researchContentWrapper: {\n        [theme.breakpoints.between(\"xs\", \"md\")]: {},\n        [theme.breakpoints.between(\"md\", \"xl\")]: {\n            alignItems: \"center\",\n            display: \"flex\",\n        },\n    },\n    researchContentAddress: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        [theme.breakpoints.between(\"md\", \"xl\")]: {\n            margin: `0 ${theme.spacing(1)}px`,\n        },\n    },\n    researchContentAddressContainer: {\n        [theme.breakpoints.between(\"md\", \"xl\")]: { display: \"inline-block\" },\n    },\n    researchContentAddressFull: {\n        display: \"flex\",\n        [theme.breakpoints.between(\"xs\", \"md\")]: { marginBottom: theme.spacing(3) },\n    },\n    researchIcon: { marginLeft: theme.spacing(-0.5) },\n    researchBtn: {\n        [theme.breakpoints.between(\"xs\", \"md\")]: {\n            border: \"none\",\n            paddingRight: 0,\n        },\n    },\n    customTextPax: {\n        \"& > label\": { transform: \"translate(58px, 20px) scale(1)!important\" },\n    },\n});\n\nconst mockHistory = [\n    {\n        name: \"Arraial do Cabo\",\n        arrival: \"06 de jun\",\n        departure: \"09 de jun\",\n    },\n    {\n        name: \"Florianópolis\",\n        arrival: \"26 de mar\",\n        departure: \" 28 de mar\",\n    },\n    {\n        name: \"Hotel Majorelle Hostel\",\n        arrival: \"26 de mar\",\n        departure: \"28 de mar\",\n    },\n];\nconst mockMostSearched = [\n    { name: \"Lisboa\", price: \"178\" },\n    { name: \"Arraial do Cabo\", price: \"93\" },\n    { name: \"Buenos Aires\", price: \"109\" },\n    { name: \"Santiago\", price: \"143\" },\n    { name: \"Porto de Galinhas\", price: \"143\" },\n];\n\nlet timerPesqinc = null;\n\nconst sortFunc = (a, b) => {\n    if (a.type !== b.type && a.type === \"location\") return -1;\n    if (a.type !== b.type && b.type === \"hotel\") return 1;\n    return 0;\n};\n\nconst SearchHotel = props => {\n    const { classes } = props;\n    const [search, setSearch] = useState([]);\n    const [historySearch, setHistorySearch] = useState([]);\n    const [mostSearched, setMostSearched] = useState([]);\n    const [value, setValue] = useState(\"\");\n\n    const initialState = [{ value: null, adults: 1, children: 0, ages: [] }];\n    const [open, setOpen] = useState(false);\n    const [fields, setFields] = useState(initialState);\n    const [valueTextField, setTextField] = useState({ value: \"\" });\n\n    const getMostSearched = () => mockMostSearched;\n\n    const getHistory = () => mockHistory;\n    const getLocations = async text => {\n        if (!text) return [];\n        const searchText = text.replace(/ /g, \"+\");\n        const payload = await fetch(\n            `https://euhghjmvi6.execute-api.us-east-1.amazonaws.com/b2c_ti/locations?productType=HOT&q=${searchText}`\n        );\n        const result = await payload.json();\n        return result.locations.map(item => {\n            const pos = item.description.indexOf(\" -\");\n            const name =\n        pos > -1 ? item.description.split(\" -\")[0] : item.description;\n            return {\n                ...item,\n                name: item.type === \"HOTEL\" ? name : item.city,\n                address: `${item.state}, ${item.country}`,\n                type: item.type === \"CITY\" ? \"location\" : \"hotel\",\n            };\n        });\n    };\n\n    useEffect(() => {\n        setHistorySearch(getHistory);\n        setMostSearched(getMostSearched);\n    }, []);\n\n    const changeText = text => {\n        if (timerPesqinc) clearTimeout(timerPesqinc);\n        timerPesqinc = setTimeout(async () => {\n            const result = await getLocations(text);\n            setSearch(result.length > 0 ? result.sort(sortFunc) : []);\n        }, 500);\n    };\n\n    const handlePesqinc = e => {\n        setValue(e.target.value);\n        changeText(e.target.value);\n    };\n\n    const handleSelect = (item, selectedIndex) => {\n        setValue(item.name);\n    };\n\n    const handleOpen = () => {\n        if (typeof window !== \"undefined\") {\n            if (props.isMobile) {\n                document.body.classList.add(\"stop-scroll\");\n            }\n        }\n    };\n\n    const handleClose = () => {\n        if (typeof window !== \"undefined\") {\n            if (props.isMobile) {\n                document.body.classList.remove(\"stop-scroll\");\n            }\n        }\n    };\n\n    const handleOpenPax = () => {\n    // console.log(\"handleOpenPax\");\n        setOpen(!open);\n    };\n\n    const handleClosePax = () => {\n        setOpen(false);\n    };\n\n    const handleChange = value => {\n        setTextField({ value });\n        setOpen(false);\n    };\n\n    const handleAdd = () => {\n        const values = [...fields];\n        values.push(initialState[0]);\n        setFields(values);\n    };\n\n    const handleRemove = i => {\n        const values = [...fields];\n        values.splice(i, 1);\n        setFields(values);\n    };\n\n    const handleRemoveRoom = () => {\n        const values = [...fields];\n        values.pop();\n        setFields(values);\n    };\n\n    const handleAdults = (idx, adult) => {\n        const adults = [...fields];\n        adults[idx].adults = adult;\n        setFields(adults);\n    };\n\n    const handleAddChildren = (fieldIdx, child) => {\n        const children = [...fields];\n        children[fieldIdx].children = child;\n        children[fieldIdx].ages.push({ value: 0 });\n        setFields(children);\n    };\n\n    const handleRemoveChildren = (fieldIdx, child) => {\n        const children = [...fields];\n        children[fieldIdx].children = child;\n        children[fieldIdx].ages.pop();\n        setFields(children);\n    };\n\n    const handleChildAge = (fieldIdx, ageIdx, e) => {\n        const childAge = [...fields];\n        childAge[fieldIdx].ages[ageIdx].value = e.target.value;\n        setFields(childAge);\n    };\n\n    const handleClear = () => {\n        setFields(initialState);\n        setTextField({ value: \"\" });\n    };\n\n    const handleReset = () => {\n        setValue(\"\");\n        changeText(\"\");\n    };\n\n    return (\n        <div className={props.research ? classes.research : classes.search}>\n            <Container>\n                {!props.research && (\n                    <Grid container>\n                        <Grid item lg={5} sm={12}>\n                            <CustomTypography\n                                type={props.isMobile ? \"headline2\" : \"headline5\"}\n                                className={classes.title}\n                            >\n                Olá, confira os melhores hotéis para seu conforto\n                            </CustomTypography>\n                        </Grid>\n                    </Grid>\n                )}\n                {(props.researchActive || !props.research) && (\n                    <Grid\n                        container\n                        className={\n                            props.research ? classes.researchContainer : classes.container\n                        }\n                    >\n                        <Grid item lg={4} xs={12} className={classes.grid}>\n                            <PesqincHotel\n                                search={search}\n                                onChange={handlePesqinc}\n                                onSelect={handleSelect}\n                                isMobile={props.isMobile}\n                                history={historySearch}\n                                mostSearched={mostSearched}\n                                value={value}\n                                transparent\n                                resetValue={handleReset}\n                            />\n                        </Grid>\n                        <Grid item lg={3} xs={12} className={classes.grid}>\n                            <FullCalendar\n                                onDatesChange={dates => {}}\n                                isMobile={props.isMobile}\n                                error={false}\n                                errorMsg={null}\n                                onOpen={handleOpen}\n                                onClose={handleClose}\n                            />\n                        </Grid>\n                        <Grid item lg={3} xs={12} className={classes.grid}>\n                            <PaxHotel\n                                className={classes}\n                                isMobile={false}\n                                initialState={initialState}\n                                open={open}\n                                fields={fields}\n                                onClick={handleOpenPax}\n                                handleClose={handleClosePax}\n                                handleAdd={handleAdd}\n                                handleRemove={handleRemove}\n                                handleRemoveRoom={handleRemoveRoom}\n                                handleAdults={handleAdults}\n                                handleAddChildren={handleAddChildren}\n                                handleRemoveChildren={handleRemoveChildren}\n                                handleChildAge={handleChildAge}\n                                handleChange={handleChange}\n                                valueTextField={valueTextField.value}\n                                handleClear={handleClear}\n                                error={false}\n                                errorMsg=\"\"\n                            />\n                        </Grid>\n                        <Grid item lg={2} xs={12} className={classes.grid}>\n                            <CustomButton\n                                color=\"secondary\"\n                                label=\"Buscar hotéis\"\n                                variant=\"contained\"\n                                size=\"large\"\n                                className={classes.btn}\n                                name=\"Nome\"\n                            />\n                        </Grid>\n                    </Grid>\n                )}\n                {!props.researchActive && props.research && (\n                    <TopResume\n                        destination={props.destination}\n                        withModal={props.withModal}\n                    />\n                )}\n            </Container>\n        </div>\n    );\n};\n\nSearchHotel.defaultProps = { isMobile: false };\nSearchHotel.propTypes = {\n    classes: PropTypes.object.isRequired,\n    research: PropTypes.bool,\n    researchActive: PropTypes.bool,\n    withModal: PropTypes.bool,\n    destination: PropTypes.array,\n    isMobile: PropTypes.bool,\n};\n\nexport default withStyles(styles, { withTheme: true })(SearchHotel);\n"]},"metadata":{},"sourceType":"module"}