{"ast":null,"code":"import { Brand } from \"../BrandContext/BrandContext\";\nexport var featureToggles = function featureToggles(ctx, toggle) {\n  return ctx.featureToggles && ctx.featureToggles.find(function (fToggle) {\n    return fToggle === toggle;\n  });\n};\nexport var verifyIsBrand = function verifyIsBrand(ctx, brandName) {\n  return ctx.brand === Brand[brandName];\n};\nexport var setCookie = function setCookie(_ref) {\n  var prefix = _ref.prefix,\n      value = _ref.value,\n      expiresInDay = _ref.expiresInDay,\n      name = _ref.name;\n  var date = new Date();\n  date.setTime(date.getTime() + expiresInDay * 24 * 60 * 60 * 1000);\n  var expires = \"expires=\".concat(date.toUTCString());\n  document.cookie = \"\".concat(prefix + name, \"=\").concat(value, \";\").concat(expires, \";path=/\");\n};\nexport var getCookie = function getCookie(_ref2) {\n  var name = _ref2.name;\n  var key = \"\".concat(name, \"=\");\n  var cookies = document.cookie.split(\";\");\n\n  for (var i = 0; i < cookies.length; i += 1) {\n    var cookie = cookies[i];\n\n    while (cookie.charAt(0) === \" \") {\n      cookie = cookie.substring(1);\n    }\n\n    if (cookie.indexOf(key) === 0) {\n      return cookie.substring(key.length, cookie.length);\n    }\n  }\n\n  return \"\";\n};\nexport var getParam = function getParam(param) {\n  var url = new URL(window.location.href);\n  return url === null || url === void 0 ? void 0 : url.searchParams.get(param);\n};\nexport var findCognitoIdToken = function findCognitoIdToken() {\n  for (var i = 0; i < localStorage.length; i += 1) {\n    var key = localStorage.key(i);\n\n    if (key.startsWith(\"CognitoIdentityServiceProvider\") && key.endsWith(\"idToken\")) {\n      return localStorage.getItem(key);\n    }\n  }\n\n  return undefined;\n};","map":{"version":3,"sources":["C:/Users/felip/OneDrive/Dokumente/cvc/core-master/src/utils/index.ts"],"names":["Brand","featureToggles","ctx","toggle","find","fToggle","verifyIsBrand","brandName","brand","setCookie","prefix","value","expiresInDay","name","date","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","key","cookies","split","i","length","charAt","substring","indexOf","getParam","param","url","URL","window","location","href","searchParams","get","findCognitoIdToken","localStorage","startsWith","endsWith","getItem","undefined"],"mappings":"AAAA,SAASA,KAAT,QAAwC,8BAAxC;AAEA,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,GAAD,EAAwBC,MAAxB;AAAA,SAC1BD,GAAG,CAACD,cAAJ,IAAsBC,GAAG,CAACD,cAAJ,CAAmBG,IAAnB,CAAwB,UAAAC,OAAO;AAAA,WAAIA,OAAO,KAAKF,MAAhB;AAAA,GAA/B,CADI;AAAA,CAAvB;AAGP,OAAO,IAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAACJ,GAAD,EAAMK,SAAN;AAAA,SAAoBL,GAAG,CAACM,KAAJ,KAAcR,KAAK,CAACO,SAAD,CAAvC;AAAA,CAAtB;AAEP,OAAO,IAAME,SAAS,GAAG,SAAZA,SAAY,OAA2C;AAAA,MAAxCC,MAAwC,QAAxCA,MAAwC;AAAA,MAAhCC,KAAgC,QAAhCA,KAAgC;AAAA,MAAzBC,YAAyB,QAAzBA,YAAyB;AAAA,MAAXC,IAAW,QAAXA,IAAW;AAChE,MAAMC,IAAI,GAAG,IAAIC,IAAJ,EAAb;AACAD,EAAAA,IAAI,CAACE,OAAL,CAAaF,IAAI,CAACG,OAAL,KAAiBL,YAAY,GAAG,EAAf,GAAoB,EAApB,GAAyB,EAAzB,GAA8B,IAA5D;AACA,MAAMM,OAAO,qBAAcJ,IAAI,CAACK,WAAL,EAAd,CAAb;AACAC,EAAAA,QAAQ,CAACC,MAAT,aAAqBX,MAAM,GAAGG,IAA9B,cAAsCF,KAAtC,cAA+CO,OAA/C;AACH,CALM;AAOP,OAAO,IAAMI,SAAS,GAAG,SAAZA,SAAY,QAAc;AAAA,MAAXT,IAAW,SAAXA,IAAW;AACnC,MAAMU,GAAG,aAAMV,IAAN,MAAT;AACA,MAAMW,OAAO,GAAGJ,QAAQ,CAACC,MAAT,CAAgBI,KAAhB,CAAsB,GAAtB,CAAhB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,OAAO,CAACG,MAA5B,EAAoCD,CAAC,IAAI,CAAzC,EAA4C;AACxC,QAAIL,MAAM,GAAGG,OAAO,CAACE,CAAD,CAApB;;AACA,WAAOL,MAAM,CAACO,MAAP,CAAc,CAAd,MAAqB,GAA5B,EAAiC;AAC7BP,MAAAA,MAAM,GAAGA,MAAM,CAACQ,SAAP,CAAiB,CAAjB,CAAT;AACH;;AACD,QAAIR,MAAM,CAACS,OAAP,CAAeP,GAAf,MAAwB,CAA5B,EAA+B;AAC3B,aAAOF,MAAM,CAACQ,SAAP,CAAiBN,GAAG,CAACI,MAArB,EAA6BN,MAAM,CAACM,MAApC,CAAP;AACH;AACJ;;AACD,SAAO,EAAP;AACH,CAbM;AAeP,OAAO,IAAMI,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AAC/B,MAAMC,GAAQ,GAAG,IAAIC,GAAJ,CAAQC,MAAM,CAACC,QAAP,CAAgBC,IAAxB,CAAjB;AACA,SAAOJ,GAAP,aAAOA,GAAP,uBAAOA,GAAG,CAAEK,YAAL,CAAkBC,GAAlB,CAAsBP,KAAtB,CAAP;AACH,CAHM;AAKP,OAAO,IAAMQ,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AACpC,OAAK,IAAId,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGe,YAAY,CAACd,MAAjC,EAAyCD,CAAC,IAAI,CAA9C,EAAiD;AAC7C,QAAMH,GAAQ,GAAGkB,YAAY,CAAClB,GAAb,CAAiBG,CAAjB,CAAjB;;AACA,QAAIH,GAAG,CAACmB,UAAJ,CAAe,gCAAf,KAAoDnB,GAAG,CAACoB,QAAJ,CAAa,SAAb,CAAxD,EAAiF;AAC7E,aAAOF,YAAY,CAACG,OAAb,CAAqBrB,GAArB,CAAP;AACH;AACJ;;AAED,SAAOsB,SAAP;AACH,CATM","sourcesContent":["import { Brand, BrandContextType } from \"../BrandContext/BrandContext\";\n\nexport const featureToggles = (ctx: BrandContextType, toggle: string) =>\n    ctx.featureToggles && ctx.featureToggles.find(fToggle => fToggle === toggle)\n\nexport const verifyIsBrand = (ctx, brandName) => ctx.brand === Brand[brandName]\n\nexport const setCookie = ({ prefix, value, expiresInDay, name }) => {\n    const date = new Date();\n    date.setTime(date.getTime() + expiresInDay * 24 * 60 * 60 * 1000);\n    const expires = `expires=${date.toUTCString()}`;\n    document.cookie = `${prefix + name}=${value};${expires};path=/`;\n}\n\nexport const getCookie = ({ name }) => {\n    const key = `${name}=`;\n    const cookies = document.cookie.split(\";\");\n    for (let i = 0; i < cookies.length; i += 1) {\n        let cookie = cookies[i];\n        while (cookie.charAt(0) === \" \") {\n            cookie = cookie.substring(1);\n        }\n        if (cookie.indexOf(key) === 0) {\n            return cookie.substring(key.length, cookie.length);\n        }\n    }\n    return \"\";\n}\n\nexport const getParam = (param) => {\n    const url: any = new URL(window.location.href);\n    return url?.searchParams.get(param);\n}\n\nexport const findCognitoIdToken = () => {\n    for (let i = 0; i < localStorage.length; i += 1) {\n        const key: any = localStorage.key(i);\n        if (key.startsWith(\"CognitoIdentityServiceProvider\") && key.endsWith(\"idToken\")) {\n            return localStorage.getItem(key);\n        }\n    }\n\n    return undefined;\n}\n"]},"metadata":{},"sourceType":"module"}