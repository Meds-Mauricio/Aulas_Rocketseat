{"ast":null,"code":"import _defineProperty from \"C:/Users/felip/OneDrive/Dokumente/cvc/core-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"C:/Users/felip/OneDrive/Dokumente/cvc/core-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/felip/OneDrive/Dokumente/cvc/core-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/felip/OneDrive/Dokumente/cvc/core-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\felip\\\\OneDrive\\\\Dokumente\\\\cvc\\\\core-master\\\\src\\\\MyTravelLogin\\\\shared\\\\components\\\\ModalLogin\\\\index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\n/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport React, { useCallback, useState } from \"react\";\nimport { Modal, Typography } from \"@material-ui/core\";\nimport classnames from \"classnames\";\nimport MyTravelLogin from \"../../..\";\nimport { useProfileContext } from \"../../../../ProfileContext\";\nimport { useUserDataContext } from \"../../../../UserContext\";\nimport useGa from \"../../../../utils/useGa\";\nimport useStyles from \"./styles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar ModalLogin = function ModalLogin(_ref) {\n  _s();\n\n  var newLogin = _ref.newLogin,\n      textBtnLogin = _ref.textBtnLogin,\n      isMobile = _ref.isMobile;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var props = {\n    isMobile: isMobile\n  };\n\n  var _useGa = useGa(),\n      saveOnGa = _useGa.saveOnGa;\n\n  var classes = useStyles(props);\n\n  var _useProfileContext = useProfileContext(),\n      isRegisterUserProfileStep = _useProfileContext.isRegisterUserProfileStep,\n      setIsRegisterUserProfileStepToggle = _useProfileContext.setIsRegisterUserProfileStepToggle;\n\n  var _useUserDataContext = useUserDataContext(),\n      logout = _useUserDataContext.logout;\n\n  var closeModal = useCallback( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event, reason) {\n      var _window;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              saveOnGa({\n                event: \"header_event\",\n                category: \"Account\",\n                action: \"Click on header options\",\n                label: \"click on header item :: login\"\n              });\n\n              if (open && ((_window = window) === null || _window === void 0 ? void 0 : _window.hj)) {\n                window.hj(\"event\", \"viewed_homepage_modal_login\");\n              }\n\n              if (!(reason === \"backdropClick\")) {\n                _context.next = 10;\n                break;\n              }\n\n              if (!isRegisterUserProfileStep) {\n                _context.next = 8;\n                break;\n              }\n\n              _context.next = 6;\n              return logout({\n                noReload: true\n              });\n\n            case 6:\n              setIsRegisterUserProfileStepToggle(false);\n              setOpen(!open);\n\n            case 8:\n              _context.next = 11;\n              break;\n\n            case 10:\n              setOpen(!open);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), [open, isRegisterUserProfileStep]);\n  var openModal = useCallback(function () {\n    setOpen(true);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"\".concat(classes.login),\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: openModal,\n        className: classnames(classes.loginBtn, _defineProperty({}, classes.newLoginBtn, newLogin)),\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          className: classes.loginBtnTxt,\n          children: textBtnLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: open,\n      onClose: closeModal,\n      \"aria-describedby\": \"modal-login\",\n      children: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(MyTravelLogin, {\n          onCloseClick: function onCloseClick() {\n            return setOpen(!open);\n          },\n          isModal: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(ModalLogin, \"GiJy/BZ1bKb6HKhGVuOu6HNEWq0=\", false, function () {\n  return [useGa, useStyles, useProfileContext, useUserDataContext];\n});\n\n_c = ModalLogin;\nexport default ModalLogin;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalLogin\");","map":{"version":3,"sources":["C:/Users/felip/OneDrive/Dokumente/cvc/core-master/src/MyTravelLogin/shared/components/ModalLogin/index.tsx"],"names":["React","useCallback","useState","Modal","Typography","classnames","MyTravelLogin","useProfileContext","useUserDataContext","useGa","useStyles","ModalLogin","newLogin","textBtnLogin","isMobile","open","setOpen","props","saveOnGa","classes","isRegisterUserProfileStep","setIsRegisterUserProfileStepToggle","logout","closeModal","event","reason","category","action","label","window","hj","noReload","openModal","login","loginBtn","newLoginBtn","loginBtnTxt"],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport React, { useCallback, useState } from \"react\";\nimport { Modal, Typography } from \"@material-ui/core\";\nimport classnames from \"classnames\"\nimport Cookies from \"universal-cookie\";\nimport MyTravelLogin from \"../../..\";\nimport { useProfileContext } from \"../../../../ProfileContext\";\nimport { useUserDataContext } from \"../../../../UserContext\";\nimport useGa from \"../../../../utils/useGa\";\nimport useStyles from \"./styles\";\n\ninterface ModalLoginProps {\n    newLogin?: string;\n    children?: React.ReactNode;\n    textBtnLogin: string;\n    isMobile?: boolean;\n}\ndeclare global {\n    interface Window {\n        hj: any;\n    }\n}\n\nconst ModalLogin: React.FC<ModalLoginProps> = ({ newLogin, textBtnLogin, isMobile }) => {\n    const [open, setOpen] = useState(false);\n    const props = { isMobile };\n    const { saveOnGa } = useGa();\n    const classes = useStyles(props);\n    const { isRegisterUserProfileStep, setIsRegisterUserProfileStepToggle } = useProfileContext();\n    const { logout } = useUserDataContext();\n\n    const closeModal = useCallback(async(event, reason) => {\n        saveOnGa({\n            event: \"header_event\",\n            category: \"Account\",\n            action: \"Click on header options\",\n            label: \"click on header item :: login\"\n        })\n        if (open && window?.hj) {\n            window.hj(\"event\", \"viewed_homepage_modal_login\");\n        }\n        if (reason === \"backdropClick\" ) {\n            if(isRegisterUserProfileStep) {\n                await logout({\n                    noReload: true\n                })\n                setIsRegisterUserProfileStepToggle(false)\n                setOpen(!open);\n            }\n        }else {\n            setOpen(!open);\n        }\n\n    }, [open, isRegisterUserProfileStep]);\n\n    const openModal = useCallback(() => {\n        setOpen(true)\n    }, [])\n\n    return (\n        <>\n            <div className={`${classes.login}`}>\n                <a onClick={openModal} className={classnames(classes.loginBtn, {\n                    [classes.newLoginBtn]: newLogin\n                })}>\n                    <Typography className={classes.loginBtnTxt}>\n                        {textBtnLogin}\n                    </Typography>\n                </a>\n            </div>\n            <Modal open={open} onClose={closeModal} aria-describedby=\"modal-login\">\n                <>\n                    <MyTravelLogin onCloseClick={() => setOpen(!open)} isModal />\n                </>\n\n            </Modal>\n        </>\n    )\n}\n\nexport default ModalLogin;\n"]},"metadata":{},"sourceType":"module"}